{"version":3,"sources":["vendor/jquery.nicescroll.js"],"names":["factory","define","amd","exports","module","require","jQuery","domfocus","mousefocus","tabindexcounter","ascrailcounter","globalmaxzindex","$","_doc","document","_win","window","$window","delegatevents","setAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","clearAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","id","anilasttime","callback","element","currTime","Date","getTime","timeToCall","Math","max","setTimeout","clearTimeout","ClsMutationObserver","MutationObserver","WebKitMutationObserver","now","_globaloptions","zindex","cursoropacitymin","cursoropacitymax","cursorcolor","cursorwidth","cursorborder","cursorborderradius","scrollspeed","mousescrollstep","touchbehavior","emulatetouch","hwacceleration","usetransition","boxzoom","dblclickzoom","gesturezoom","grabcursorenabled","autohidemode","background","iframeautoresize","cursorminheight","preservenativescrolling","railoffset","railhoffset","bouncescroll","spacebarenabled","railpadding","top","right","left","bottom","disableoutline","horizrailenabled","railalign","railvalign","enabletranslate3d","enablemousewheel","enablekeyboard","smoothscroll","sensitiverail","enablemouselockapi","cursorfixedheight","directionlockdeadzone","hidecursordelay","nativeparentscrolling","enablescrollonselection","overflowx","overflowy","cursordragspeed","rtlmode","cursordragontouch","oneaxismousemode","scriptpath","scripts","currentScript","s","getElementsByTagName","length","path","src","split","slice","join","getScriptPath","preventmultitouchscrolling","disablemutationobserver","enableobserver","scrollbarid","browserdetected","getBrowserDetection","_el","createElement","_style","style","_agent","navigator","userAgent","_platform","platform","d","haspointerlock","isopera","isopera12","isoperamini","Object","prototype","toString","call","operamini","isie","isieold","isie7","documentMode","isie8","isie9","isie10","isie11","ismsedge","ismozilla","iswebkit","ischrome","ischrome38","ischrome22","ischrome26","cantouch","documentElement","hasw3ctouch","PointerEvent","maxTouchPoints","msMaxTouchPoints","hasmstouch","MSPointerEvent","ismac","test","isios","isios4","isios7","isios8","isios10","Proxy","isandroid","haseventlistener","trstyle","hastransform","hastranslate3d","transitionstyle","hastransition","transitionend","check","a","c","undefined","prefixstyle","prefix","evs","cursorgrabvalue","lst","l","p","cursor","detectCursorGrab","hasmousecapture","hasMutationObserver","NiceScrollClass","myopt","me","getMatrixValues","tr","self","doc","css","cap","substr","replace","getZIndex","dom","win","zIndex","nodeType","zi","isNaN","parseInt","parent","getWidthToPixel","prop","chkheight","wd","px","parseFloat","brd","_convertBorderWidth","outerHeight","innerHeight","outerWidth","innerWidth","_modernWheelEvent","name","fn","bubble","_bind","e","event","original","target","srcElement","type","deltaMode","deltaX","deltaZ","preventDefault","returnValue","stopImmediatePropagation","cancelBubble","wheelDeltaX","wheelDeltaY","deltaY","wheelDelta","detail","doScrollRelative","py","chkscroll","iswheel","scrollrunning","newscrolly","getScrollTop","newscrollx","getScrollLeft","scrolltmr","gap","scrollspd","page","maxw","dx","scrolldirx","scrollmom","stop","lastdeltax","maxh","opt","ispage","zoomactive","ny","view","h","dy","scrolldiry","lastdeltay","synched","dty","dtx","rail","drag","doScrollPos","execScrollWheel","hr","hasparentscrollingphase","isrtlmode","this","version","$body","extend","snapbackspeed","iddoc","nodeName","haswrapper","docscroll","body","viewport","isfixed","iframe","isiframe","istextarea","forcescreen","canshowonmouseevent","onmousedown","onmouseup","onmousemove","onmousewheel","onkeypress","ongesturezoom","onclick","onscrollstart","onscrollend","onscrollcancel","onzoomin","onzoomout","scroll","x","y","scrollratio","cursorheight","scrollvaluemax","writingMode","isvertical","observer","observerremover","observerbody","getElementById","cursorfreezed","selectiondrag","zoom","hasfocus","hasmousefocus","railslocked","locked","hidden","cursoractive","wheelprevented","nativescrollingarea","checkarea","events","saved","delaylist","synclist","detected","canhwscroll","ishwscroll","hasreversehr","istouchcapable","debounced","tm","unsynched","el","pars","n","push","scrollTop","val","setScrollTop","scrollLeft","setScrollLeft","BezierClass","st","ed","spd","p1","p2","p3","p4","ts","df","B2","t","B3","B4","getPos","getNow","pc","bz","update","translate","tx","ty","last","mtx","timerscroll","bh","notifyScrollEvent","createEvent","initUIEvent","niceevent","dispatchEvent","cxscrollleft","silent","abs","getTarget","hasParent","parentNode","thin","medium","thick","getDocumentScrollOffset","pageYOffset","pageXOffset","getOffset","ofs","offset","scrl","ww","vp","updateScrollBar","len","pos","off","height","railh","width","wpos","align","doRailClick","dbl","pg","cur","cancelEvent","pageX","clientX","pageY","clientY","doScrollLeft","doScrollTop","doScrollLeftBy","doScrollBy","w","hasanimationframe","hascancelanimationframe","hasborderbox","init","getComputedStyle","_scrollyhidden","overflow-y","bind","onScrollTransitionEnd","cont","-webkit-overflow-scrolling","position","float","background-color","border","background-clip","-webkit-border-radius","-moz-border-radius","border-radius","addClass","attr","v","kp","append","visibility","scrollable","doZoom","backgroundImage","backgroundPosition","scale","doZoomIn","doZoomOut","overflowX","backgroundColor","backgroundClip","cursorh","bd","margin-right","rlpos","getViewport","-webkit-tap-highlight-color","-webkit-touch-callout","autohidedom","opacity","add","hide","ScrollMomentumClass2D","ontouchstart","pointerType","MSPOINTER_TYPE_MOUSE","hasmoving","timer","triggerScrollEnd","tg","stopPropagation","ismouse","changedTouches","le","screenX","screenY","sx","sy","sl","pt","dl","getContentSize","ck","wp","lastmouseup","reset","setCapture","_onclick","preventclick","click","ontouchend","doMomentum","hideCursor","releaseCapture","moveneedoffset","locktollerance","ontouchmove","byiframe","targetTouches","ofy","ofx","fy","my","fx","mx","round","nx","ay","ax","dz","triggerScrollStart","onpreventclick","prepareTransition","resetTransition","showCursor","selection","clear","ontouchstartCursor","hronly","cancelScroll","touches","csspointerevents","pointer-events","ontouchendCursor","ontouchmoveCursor","mw","scrollvaluemaxw","which","checkSelectionScroll","rt","hasTextSelected","getSelection","rangeCount","onselectionstart","onselectionend","onselectiondrag","touch-action","delegate","-ms-touch-action","jqbind","is","active","mousewheel","onmousewheelhr","tabindex","noticeCursor","getAttribute","key","keyCode","ctrl","ctrlKey","shift","shiftKey","ret","doScrollTo","onscreenresize","lazyResize","tmp","onAttributeChange","mutations","forEach","mut","hasClass","contains","show","clientWidth","clientHeight","observe","childList","subtree","characterData","attributes","attributeFilter","_dom","mo","removedNodes","dd","remove","attachEvent","resizeZoom","oniframeload","iframexd","contentDocument","contentWindow","domain","console","log","html","contents","find","scrollWidth","scrollHeight","hh","-webkit-transform","onscroll","readyState","cursortimeout","lx","showonmouseevent","animate","offsetWidth","offsetHeight","onResize","premaxh","premaxw","previewh","previeww","lastposition","hideRail","hideRailHr","showRail","showRailHr","min","resize","hlazyresize","hiderails","hideRails","showRails","f","q","on","wname","passiveSupported","options","defineProperty","get","addEventListener","err","cancelable","preventManipulation","Event","constructor","Element","listener","useCapture","removeEventListener","detachEvent","cancel","de","r","concat","undelegate","splice","_unbind","b","passive","capture","bub","unbindAll","unbind","toggle","disconnect","data","nicescroll","each","i","scrollstart","scrollend","scrollcancel","zoomin","zoomout","isScrollable","ov","getNiceScroll","cx","cy","rx","ry","ms","info","current","request","end","speed","nw","chk","scrollmon","getTransitionSpeed","dif","lasttransitionstyle","istime","ex","trans","cursorupdate","running","start","m","loop","lft","dst","sqrt","scrollendtrapped","clearInterval","clipped","bzscroll","stp","relative","checkContentSize","zoomrestore","pp","padding","margin","bkg","z-index","nc","lastx","lasty","speedx","speedy","lasttime","steptime","snapx","snapy","demulx","demuly","lastscrollx","lastscrolly","chkx","chky","newy","newx","doSnapy","snap","gp","pageh","pagew","xm","demulxy","floor","_scrollTop","cssHooks","elem","computed","extra","nice","set","value","_scrollLeft","NiceScrollArray","doms","eq","idx","mplex","args","arguments","apply","index","expr","pseudos","niceScroll","wrapper","_opt","$this","wrp","NiceScroll","getjQuery"],"mappings":"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","file":"../../vendor/jquery.nicescroll.js","sourcesContent":["/* jquery.nicescroll\n-- version 3.7.5\n-- copyright 2017-07-13 InuYaksa*2017\n-- licensed under the MIT\n--\n-- https://nicescroll.areaaperta.com/\n-- https://github.com/inuyaksa/jquery.nicescroll\n--\n*/\n\n/* jshint expr: true */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS.\n    module.exports = factory(require('jquery'));\n  } else {\n    // Browser globals.\n    factory(jQuery);\n  }\n}(function (jQuery) {\n\n  \"use strict\";\n\n  // globals\n  var domfocus = false,\n    mousefocus = false,\n    tabindexcounter = 0,\n    ascrailcounter = 2000,\n    globalmaxzindex = 0;\n\n  var $ = jQuery,       // sandbox\n    _doc = document,\n    _win = window,\n    $window = $(_win);\n\n  var delegatevents = [];\n\n  // http://stackoverflow.com/questions/2161159/get-script-path\n  function getScriptPath() {\n    var scripts = _doc.currentScript || (function () { var s = _doc.getElementsByTagName('script'); return (s.length) ? s[s.length - 1] : false; })();\n    var path = scripts ? scripts.src.split('?')[0] : '';\n    return (path.split('/').length > 0) ? path.split('/').slice(0, -1).join('/') + '/' : '';\n  }\n\n  // based on code by Paul Irish https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/  \n  var setAnimationFrame = _win.requestAnimationFrame || _win.webkitRequestAnimationFrame || _win.mozRequestAnimationFrame || false;\n  var clearAnimationFrame = _win.cancelAnimationFrame || _win.webkitCancelAnimationFrame || _win.mozCancelAnimationFrame || false;\n\n  if (!setAnimationFrame) {\n    var anilasttime = 0;\n    setAnimationFrame = function (callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - anilasttime));\n      var id = _win.setTimeout(function () { callback(currTime + timeToCall); },\n        timeToCall);\n      anilasttime = currTime + timeToCall;\n      return id;\n    };\n    clearAnimationFrame = function (id) {\n      _win.clearTimeout(id);\n    };\n  } else {\n    if (!_win.cancelAnimationFrame) clearAnimationFrame = function (id) { };\n  }\n\n  var ClsMutationObserver = _win.MutationObserver || _win.WebKitMutationObserver || false;\n\n  var now = Date.now || function () { return new Date().getTime(); };\n\n  var _globaloptions = {\n    zindex: \"auto\",\n    cursoropacitymin: 0,\n    cursoropacitymax: 1,\n    cursorcolor: \"#424242\",\n    cursorwidth: \"6px\",\n    cursorborder: \"1px solid #fff\",\n    cursorborderradius: \"5px\",\n    scrollspeed: 40,\n    mousescrollstep: 9 * 3,\n    touchbehavior: false,   // deprecated\n    emulatetouch: false,    // replacing touchbehavior\n    hwacceleration: true,\n    usetransition: true,\n    boxzoom: false,\n    dblclickzoom: true,\n    gesturezoom: true,\n    grabcursorenabled: true,\n    autohidemode: true,\n    background: \"\",\n    iframeautoresize: true,\n    cursorminheight: 32,\n    preservenativescrolling: true,\n    railoffset: false,\n    railhoffset: false,\n    bouncescroll: true,\n    spacebarenabled: true,\n    railpadding: {\n      top: 0,\n      right: 0,\n      left: 0,\n      bottom: 0\n    },\n    disableoutline: true,\n    horizrailenabled: true,\n    railalign: \"right\",\n    railvalign: \"bottom\",\n    enabletranslate3d: true,\n    enablemousewheel: true,\n    enablekeyboard: true,\n    smoothscroll: true,\n    sensitiverail: true,\n    enablemouselockapi: true,\n    //      cursormaxheight:false,\n    cursorfixedheight: false,\n    directionlockdeadzone: 6,\n    hidecursordelay: 400,\n    nativeparentscrolling: true,\n    enablescrollonselection: true,\n    overflowx: true,\n    overflowy: true,\n    cursordragspeed: 0.3,\n    rtlmode: \"auto\",\n    cursordragontouch: false,\n    oneaxismousemode: \"auto\",\n    scriptpath: getScriptPath(),\n    preventmultitouchscrolling: true,\n    disablemutationobserver: false,\n    enableobserver: true,\n    scrollbarid: false\n  };\n\n  var browserdetected = false;\n\n  var getBrowserDetection = function () {\n\n    if (browserdetected) return browserdetected;\n\n    var _el = _doc.createElement('DIV'),\n      _style = _el.style,\n      _agent = navigator.userAgent,\n      _platform = navigator.platform,\n      d = {};\n\n    d.haspointerlock = \"pointerLockElement\" in _doc || \"webkitPointerLockElement\" in _doc || \"mozPointerLockElement\" in _doc;\n\n    d.isopera = (\"opera\" in _win); // 12-\n    d.isopera12 = (d.isopera && (\"getUserMedia\" in navigator));\n    d.isoperamini = (Object.prototype.toString.call(_win.operamini) === \"[object OperaMini]\");\n\n    d.isie = ((\"all\" in _doc) && (\"attachEvent\" in _el) && !d.isopera); //IE10-\n    d.isieold = (d.isie && !(\"msInterpolationMode\" in _style)); // IE6 and older\n    d.isie7 = d.isie && !d.isieold && (!(\"documentMode\" in _doc) || (_doc.documentMode === 7));\n    d.isie8 = d.isie && (\"documentMode\" in _doc) && (_doc.documentMode === 8);\n    d.isie9 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 9);\n    d.isie10 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 10);\n    d.isie11 = (\"msRequestFullscreen\" in _el) && (_doc.documentMode >= 11); // IE11+\n\n    d.ismsedge = (\"msCredentials\" in _win);  // MS Edge 14+\n\n    d.ismozilla = (\"MozAppearance\" in _style);\n\n    d.iswebkit = !d.ismsedge && (\"WebkitAppearance\" in _style);\n\n    d.ischrome = d.iswebkit && (\"chrome\" in _win);\n    d.ischrome38 = (d.ischrome && (\"touchAction\" in _style)); // behavior changed in touch emulation    \n    d.ischrome22 = (!d.ischrome38) && (d.ischrome && d.haspointerlock);\n    d.ischrome26 = (!d.ischrome38) && (d.ischrome && (\"transition\" in _style)); // issue with transform detection (maintain prefix)\n\n    d.cantouch = (\"ontouchstart\" in _doc.documentElement) || (\"ontouchstart\" in _win); // with detection for Chrome Touch Emulation    \n    d.hasw3ctouch = (_win.PointerEvent || false) && ((navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)); //IE11 pointer events, following W3C Pointer Events spec\n    d.hasmstouch = (!d.hasw3ctouch) && (_win.MSPointerEvent || false); // IE10 pointer events\n\n    d.ismac = /^mac$/i.test(_platform);\n\n    d.isios = d.cantouch && /iphone|ipad|ipod/i.test(_platform);\n    d.isios4 = d.isios && !(\"seal\" in Object);\n    d.isios7 = d.isios && (\"webkitHidden\" in _doc);  //iOS 7+\n    d.isios8 = d.isios && (\"hidden\" in _doc);  //iOS 8+\n    d.isios10 = d.isios && _win.Proxy;  //iOS 10+\n\n    d.isandroid = (/android/i.test(_agent));\n\n    d.haseventlistener = (\"addEventListener\" in _el);\n\n    d.trstyle = false;\n    d.hastransform = false;\n    d.hastranslate3d = false;\n    d.transitionstyle = false;\n    d.hastransition = false;\n    d.transitionend = false;\n\n    d.trstyle = \"transform\";\n    d.hastransform = (\"transform\" in _style) || (function () {\n      var check = ['msTransform', 'webkitTransform', 'MozTransform', 'OTransform'];\n      for (var a = 0, c = check.length; a < c; a++) {\n        if (_style[check[a]] !== undefined) {\n          d.trstyle = check[a];\n          break;\n        }\n      }\n      d.hastransform = (!!d.trstyle);\n    })();\n\n    if (d.hastransform) {\n      _style[d.trstyle] = \"translate3d(1px,2px,3px)\";\n      d.hastranslate3d = /translate3d/.test(_style[d.trstyle]);\n    }\n\n    d.transitionstyle = \"transition\";\n    d.prefixstyle = '';\n    d.transitionend = \"transitionend\";\n\n    d.hastransition = (\"transition\" in _style) || (function () {\n\n      d.transitionend = false;\n      var check = ['webkitTransition', 'msTransition', 'MozTransition', 'OTransition', 'OTransition', 'KhtmlTransition'];\n      var prefix = ['-webkit-', '-ms-', '-moz-', '-o-', '-o', '-khtml-'];\n      var evs = ['webkitTransitionEnd', 'msTransitionEnd', 'transitionend', 'otransitionend', 'oTransitionEnd', 'KhtmlTransitionEnd'];\n      for (var a = 0, c = check.length; a < c; a++) {\n        if (check[a] in _style) {\n          d.transitionstyle = check[a];\n          d.prefixstyle = prefix[a];\n          d.transitionend = evs[a];\n          break;\n        }\n      }\n      if (d.ischrome26) d.prefixstyle = prefix[1];  // always use prefix\n\n      d.hastransition = (d.transitionstyle);\n\n    })();\n\n    function detectCursorGrab() {\n      var lst = ['grab', '-webkit-grab', '-moz-grab'];\n      if ((d.ischrome && !d.ischrome38) || d.isie) lst = []; // force setting for IE returns false positive and chrome cursor bug\n      for (var a = 0, l = lst.length; a < l; a++) {\n        var p = lst[a];\n        _style.cursor = p;\n        if (_style.cursor == p) return p;\n      }\n      return 'url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize'; // thanks to https://cdnjs.com/ for the openhand cursor!\n    }\n    d.cursorgrabvalue = detectCursorGrab();\n\n    d.hasmousecapture = (\"setCapture\" in _el);\n\n    d.hasMutationObserver = (ClsMutationObserver !== false);\n\n    _el = null; //memory released\n\n    browserdetected = d;\n\n    return d;\n  };\n\n  var NiceScrollClass = function (myopt, me) {\n\n    var self = this;\n\n    this.version = '3.7.5';\n    this.name = 'nicescroll';\n\n    this.me = me;\n\n    var $body = $(\"body\");\n\n    var opt = this.opt = {\n      doc: $body,\n      win: false\n    };\n\n    $.extend(opt, _globaloptions);  // clone opts\n\n    // Options for internal use\n    opt.snapbackspeed = 80;\n\n    if (myopt || false) {\n      for (var a in opt) {\n        if (myopt[a] !== undefined) opt[a] = myopt[a];\n      }\n    }\n\n    if (opt.disablemutationobserver) ClsMutationObserver = false;\n\n    this.doc = opt.doc;\n    this.iddoc = (this.doc && this.doc[0]) ? this.doc[0].id || '' : '';\n    this.ispage = /^BODY|HTML/.test((opt.win) ? opt.win[0].nodeName : this.doc[0].nodeName);\n    this.haswrapper = (opt.win !== false);\n    this.win = opt.win || (this.ispage ? $window : this.doc);\n    this.docscroll = (this.ispage && !this.haswrapper) ? $window : this.win;\n    this.body = $body;\n    this.viewport = false;\n\n    this.isfixed = false;\n\n    this.iframe = false;\n    this.isiframe = ((this.doc[0].nodeName == 'IFRAME') && (this.win[0].nodeName == 'IFRAME'));\n\n    this.istextarea = (this.win[0].nodeName == 'TEXTAREA');\n\n    this.forcescreen = false; //force to use screen position on events\n\n    this.canshowonmouseevent = (opt.autohidemode != \"scroll\");\n\n    // Events jump table    \n    this.onmousedown = false;\n    this.onmouseup = false;\n    this.onmousemove = false;\n    this.onmousewheel = false;\n    this.onkeypress = false;\n    this.ongesturezoom = false;\n    this.onclick = false;\n\n    // Nicescroll custom events\n    this.onscrollstart = false;\n    this.onscrollend = false;\n    this.onscrollcancel = false;\n\n    this.onzoomin = false;\n    this.onzoomout = false;\n\n    // Let's start!  \n    this.view = false;\n    this.page = false;\n\n    this.scroll = {\n      x: 0,\n      y: 0\n    };\n    this.scrollratio = {\n      x: 0,\n      y: 0\n    };\n    this.cursorheight = 20;\n    this.scrollvaluemax = 0;\n\n    // http://dev.w3.org/csswg/css-writing-modes-3/#logical-to-physical\n    // http://dev.w3.org/csswg/css-writing-modes-3/#svg-writing-mode\n    if (opt.rtlmode == \"auto\") {\n      var target = this.win[0] == _win ? this.body : this.win;\n      var writingMode = target.css(\"writing-mode\") || target.css(\"-webkit-writing-mode\") || target.css(\"-ms-writing-mode\") || target.css(\"-moz-writing-mode\");\n\n      if (writingMode == \"horizontal-tb\" || writingMode == \"lr-tb\" || writingMode === \"\") {\n        this.isrtlmode = (target.css(\"direction\") == \"rtl\");\n        this.isvertical = false;\n      } else {\n        this.isrtlmode = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\" || writingMode == \"rl-tb\");\n        this.isvertical = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\");\n      }\n    } else {\n      this.isrtlmode = (opt.rtlmode === true);\n      this.isvertical = false;\n    }\n    //    this.checkrtlmode = false;\n\n    this.scrollrunning = false;\n\n    this.scrollmom = false;\n\n    this.observer = false;  // observer div changes\n    this.observerremover = false;  // observer on parent for remove detection\n    this.observerbody = false;  // observer on body for position change\n\n    if (opt.scrollbarid !== false) {\n      this.id = opt.scrollbarid;\n    } else {\n      do {\n        this.id = \"ascrail\" + (ascrailcounter++);\n      } while (_doc.getElementById(this.id));\n    }\n\n    this.rail = false;\n    this.cursor = false;\n    this.cursorfreezed = false;\n    this.selectiondrag = false;\n\n    this.zoom = false;\n    this.zoomactive = false;\n\n    this.hasfocus = false;\n    this.hasmousefocus = false;\n\n    //this.visibility = true;\n    this.railslocked = false;  // locked by resize\n    this.locked = false;  // prevent lost of locked status sets by user\n    this.hidden = false; // rails always hidden\n    this.cursoractive = true; // user can interact with cursors\n\n    this.wheelprevented = false; //prevent mousewheel event\n\n    this.overflowx = opt.overflowx;\n    this.overflowy = opt.overflowy;\n\n    this.nativescrollingarea = false;\n    this.checkarea = 0;\n\n    this.events = []; // event list for unbind\n\n    this.saved = {};  // style saved\n\n    this.delaylist = {};\n    this.synclist = {};\n\n    this.lastdeltax = 0;\n    this.lastdeltay = 0;\n\n    this.detected = getBrowserDetection();\n\n    var cap = $.extend({}, this.detected);\n\n    this.canhwscroll = (cap.hastransform && opt.hwacceleration);\n    this.ishwscroll = (this.canhwscroll && self.haswrapper);\n\n    if (!this.isrtlmode) {\n      this.hasreversehr = false;\n    } else if (this.isvertical) { // RTL mode with reverse horizontal axis\n      this.hasreversehr = !(cap.iswebkit || cap.isie || cap.isie11);\n    } else {\n      this.hasreversehr = !(cap.iswebkit || (cap.isie && !cap.isie10 && !cap.isie11));\n    }\n\n    this.istouchcapable = false; // desktop devices with touch screen support\n\n    //## Check WebKit-based desktop with touch support\n    //## + Firefox 18 nightly build (desktop) false positive (or desktop with touch support)\n\n    if (!cap.cantouch && (cap.hasw3ctouch || cap.hasmstouch)) {  // desktop device with multiple input\n      this.istouchcapable = true;\n    } else if (cap.cantouch && !cap.isios && !cap.isandroid && (cap.iswebkit || cap.ismozilla)) {\n      this.istouchcapable = true;\n    }\n\n    //## disable MouseLock API on user request\n    if (!opt.enablemouselockapi) {\n      cap.hasmousecapture = false;\n      cap.haspointerlock = false;\n    }\n\n    this.debounced = function (name, fn, tm) {\n      if (!self) return;\n      var dd = self.delaylist[name] || false;\n      if (!dd) {\n        self.delaylist[name] = {\n          h: setAnimationFrame(function () {\n            self.delaylist[name].fn.call(self);\n            self.delaylist[name] = false;\n          }, tm)\n        };\n        fn.call(self);\n      }\n      self.delaylist[name].fn = fn;\n    };\n\n\n    this.synched = function (name, fn) {\n      if (self.synclist[name]) self.synclist[name] = fn;\n      else {\n        self.synclist[name] = fn;\n        setAnimationFrame(function () {\n          if (!self) return;\n          self.synclist[name] && self.synclist[name].call(self);\n          self.synclist[name] = null;\n        });\n      }\n    };\n\n    this.unsynched = function (name) {\n      if (self.synclist[name]) self.synclist[name] = false;\n    };\n\n    this.css = function (el, pars) { // save & set\n      for (var n in pars) {\n        self.saved.css.push([el, n, el.css(n)]);\n        el.css(n, pars[n]);\n      }\n    };\n\n    this.scrollTop = function (val) {\n      return (val === undefined) ? self.getScrollTop() : self.setScrollTop(val);\n    };\n\n    this.scrollLeft = function (val) {\n      return (val === undefined) ? self.getScrollLeft() : self.setScrollLeft(val);\n    };\n\n    // derived by by Dan Pupius www.pupius.net\n    var BezierClass = function (st, ed, spd, p1, p2, p3, p4) {\n\n      this.st = st;\n      this.ed = ed;\n      this.spd = spd;\n\n      this.p1 = p1 || 0;\n      this.p2 = p2 || 1;\n      this.p3 = p3 || 0;\n      this.p4 = p4 || 1;\n\n      this.ts = now();\n      this.df = ed - st;\n    };\n    BezierClass.prototype = {\n      B2: function (t) {\n        return 3 * (1 - t) * (1 - t) * t;\n      },\n      B3: function (t) {\n        return 3 * (1 - t) * t * t;\n      },\n      B4: function (t) {\n        return t * t * t;\n      },\n      getPos: function () {\n        return (now() - this.ts) / this.spd;\n      },\n      getNow: function () {\n        var pc = (now() - this.ts) / this.spd;\n        var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);\n        return (pc >= 1) ? this.ed : this.st + (this.df * bz) | 0;\n      },\n      update: function (ed, spd) {\n        this.st = this.getNow();\n        this.ed = ed;\n        this.spd = spd;\n        this.ts = now();\n        this.df = this.ed - this.st;\n        return this;\n      }\n    };\n\n    //derived from http://stackoverflow.com/questions/11236090/\n    function getMatrixValues() {\n      var tr = self.doc.css(cap.trstyle);\n      if (tr && (tr.substr(0, 6) == \"matrix\")) {\n        return tr.replace(/^.*\\((.*)\\)$/g, \"$1\").replace(/px/g, '').split(/, +/);\n      }\n      return false;\n    }\n\n    if (this.ishwscroll) {    // hw accelerated scroll\n\n      this.doc.translate = {\n        x: 0,\n        y: 0,\n        tx: \"0px\",\n        ty: \"0px\"\n      };\n\n      //this one can help to enable hw accel on ios6 http://indiegamr.com/ios6-html-hardware-acceleration-changes-and-how-to-fix-them/\n      if (cap.hastranslate3d && cap.isios) this.doc.css(\"-webkit-backface-visibility\", \"hidden\"); // prevent flickering http://stackoverflow.com/questions/3461441/      \n\n      this.getScrollTop = function (last) {\n        if (!last) {\n          var mtx = getMatrixValues();\n          if (mtx) return (mtx.length == 16) ? -mtx[13] : -mtx[5]; //matrix3d 16 on IE10\n          if (self.timerscroll && self.timerscroll.bz) return self.timerscroll.bz.getNow();\n        }\n        return self.doc.translate.y;\n      };\n\n      this.getScrollLeft = function (last) {\n        if (!last) {\n          var mtx = getMatrixValues();\n          if (mtx) return (mtx.length == 16) ? -mtx[12] : -mtx[4]; //matrix3d 16 on IE10\n          if (self.timerscroll && self.timerscroll.bh) return self.timerscroll.bh.getNow();\n        }\n        return self.doc.translate.x;\n      };\n\n      this.notifyScrollEvent = function (el) {\n        var e = _doc.createEvent(\"UIEvents\");\n        e.initUIEvent(\"scroll\", false, false, _win, 1);\n        e.niceevent = true;\n        el.dispatchEvent(e);\n      };\n\n      var cxscrollleft = (this.isrtlmode) ? 1 : -1;\n\n      if (cap.hastranslate3d && opt.enabletranslate3d) {\n        this.setScrollTop = function (val, silent) {\n          self.doc.translate.y = val;\n          self.doc.translate.ty = (val * -1) + \"px\";\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n        this.setScrollLeft = function (val, silent) {\n          self.doc.translate.x = val;\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n      } else {\n        this.setScrollTop = function (val, silent) {\n          self.doc.translate.y = val;\n          self.doc.translate.ty = (val * -1) + \"px\";\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n        this.setScrollLeft = function (val, silent) {\n          self.doc.translate.x = val;\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n      }\n    } else {    // native scroll\n\n      this.getScrollTop = function () {\n        return self.docscroll.scrollTop();\n      };\n      this.setScrollTop = function (val) {\n        self.docscroll.scrollTop(val);\n      };\n\n      this.getScrollLeft = function () {\n        var val;\n        if (!self.hasreversehr) {\n          val = self.docscroll.scrollLeft();\n        } else if (self.detected.ismozilla) {\n          val = self.page.maxw - Math.abs(self.docscroll.scrollLeft());\n        } else {\n          val = self.page.maxw - self.docscroll.scrollLeft();\n        }\n        return val;\n      };\n      this.setScrollLeft = function (val) {\n        return setTimeout(function () {\n          if (!self) return;\n          if (self.hasreversehr) {\n            if (self.detected.ismozilla) {\n              val = -(self.page.maxw - val);\n            } else {\n              val = self.page.maxw - val;\n            }\n          }\n          return self.docscroll.scrollLeft(val);\n        }, 1);\n      };\n    }\n\n    this.getTarget = function (e) {\n      if (!e) return false;\n      if (e.target) return e.target;\n      if (e.srcElement) return e.srcElement;\n      return false;\n    };\n\n    this.hasParent = function (e, id) {\n      if (!e) return false;\n      var el = e.target || e.srcElement || e || false;\n      while (el && el.id != id) {\n        el = el.parentNode || false;\n      }\n      return (el !== false);\n    };\n\n    function getZIndex() {\n      var dom = self.win;\n      if (\"zIndex\" in dom) return dom.zIndex(); // use jQuery UI method when available\n      while (dom.length > 0) {\n        if (dom[0].nodeType == 9) return false;\n        var zi = dom.css('zIndex');\n        if (!isNaN(zi) && zi !== 0) return parseInt(zi);\n        dom = dom.parent();\n      }\n      return false;\n    }\n\n    //inspired by http://forum.jquery.com/topic/width-includes-border-width-when-set-to-thin-medium-thick-in-ie\n    var _convertBorderWidth = {\n      \"thin\": 1,\n      \"medium\": 3,\n      \"thick\": 5\n    };\n\n    function getWidthToPixel(dom, prop, chkheight) {\n      var wd = dom.css(prop);\n      var px = parseFloat(wd);\n      if (isNaN(px)) {\n        px = _convertBorderWidth[wd] || 0;\n        var brd = (px == 3) ? ((chkheight) ? (self.win.outerHeight() - self.win.innerHeight()) : (self.win.outerWidth() - self.win.innerWidth())) : 1; //DON'T TRUST CSS\n        if (self.isie8 && px) px += 1;\n        return (brd) ? px : 0;\n      }\n      return px;\n    }\n\n    this.getDocumentScrollOffset = function () {\n      return {\n        top: _win.pageYOffset || _doc.documentElement.scrollTop,\n        left: _win.pageXOffset || _doc.documentElement.scrollLeft\n      };\n    };\n\n    this.getOffset = function () {\n      if (self.isfixed) {\n        var ofs = self.win.offset();  // fix Chrome auto issue (when right/bottom props only)\n        var scrl = self.getDocumentScrollOffset();\n        ofs.top -= scrl.top;\n        ofs.left -= scrl.left;\n        return ofs;\n      }\n      var ww = self.win.offset();\n      if (!self.viewport) return ww;\n      var vp = self.viewport.offset();\n      return {\n        top: ww.top - vp.top,\n        left: ww.left - vp.left\n      };\n    };\n\n    this.updateScrollBar = function (len) {\n      var pos, off;\n      if (self.ishwscroll) {\n        self.rail.css({\n          height: self.win.innerHeight() - (opt.railpadding.top + opt.railpadding.bottom)\n        });\n        if (self.railh) self.railh.css({\n          width: self.win.innerWidth() - (opt.railpadding.left + opt.railpadding.right)\n        });\n      } else {\n        var wpos = self.getOffset();\n        pos = {\n          top: wpos.top,\n          left: wpos.left - (opt.railpadding.left + opt.railpadding.right)\n        };\n        pos.top += getWidthToPixel(self.win, 'border-top-width', true);\n        pos.left += (self.rail.align) ? self.win.outerWidth() - getWidthToPixel(self.win, 'border-right-width') - self.rail.width : getWidthToPixel(self.win, 'border-left-width');\n\n        off = opt.railoffset;\n        if (off) {\n          if (off.top) pos.top += off.top;\n          if (off.left) pos.left += off.left;\n        }\n\n        if (!self.railslocked) self.rail.css({\n          top: pos.top,\n          left: pos.left,\n          height: ((len) ? len.h : self.win.innerHeight()) - (opt.railpadding.top + opt.railpadding.bottom)\n        });\n\n        if (self.zoom) {\n          self.zoom.css({\n            top: pos.top + 1,\n            left: (self.rail.align == 1) ? pos.left - 20 : pos.left + self.rail.width + 4\n          });\n        }\n\n        if (self.railh && !self.railslocked) {\n          pos = {\n            top: wpos.top,\n            left: wpos.left\n          };\n          off = opt.railhoffset;\n          if (off) {\n            if (off.top) pos.top += off.top;\n            if (off.left) pos.left += off.left;\n          }\n          var y = (self.railh.align) ? pos.top + getWidthToPixel(self.win, 'border-top-width', true) + self.win.innerHeight() - self.railh.height : pos.top + getWidthToPixel(self.win, 'border-top-width', true);\n          var x = pos.left + getWidthToPixel(self.win, 'border-left-width');\n          self.railh.css({\n            top: y - (opt.railpadding.top + opt.railpadding.bottom),\n            left: x,\n            width: self.railh.width\n          });\n        }\n\n      }\n    };\n\n    this.doRailClick = function (e, dbl, hr) {\n      var fn, pg, cur, pos;\n\n      if (self.railslocked) return;\n\n      self.cancelEvent(e);\n\n      if (!(\"pageY\" in e)) {\n        e.pageX = e.clientX + _doc.documentElement.scrollLeft;\n        e.pageY = e.clientY + _doc.documentElement.scrollTop;\n      }\n\n      if (dbl) {\n        fn = (hr) ? self.doScrollLeft : self.doScrollTop;\n        cur = (hr) ? ((e.pageX - self.railh.offset().left - (self.cursorwidth / 2)) * self.scrollratio.x) : ((e.pageY - self.rail.offset().top - (self.cursorheight / 2)) * self.scrollratio.y);\n        self.unsynched(\"relativexy\");\n        fn(cur|0);\n      } else {\n        fn = (hr) ? self.doScrollLeftBy : self.doScrollBy;\n        cur = (hr) ? self.scroll.x : self.scroll.y;\n        pos = (hr) ? e.pageX - self.railh.offset().left : e.pageY - self.rail.offset().top;\n        pg = (hr) ? self.view.w : self.view.h;\n        fn((cur >= pos) ? pg : -pg);\n      }\n\n    };\n\n    self.newscrolly = self.newscrollx = 0;\n\n    self.hasanimationframe = (\"requestAnimationFrame\" in _win);\n    self.hascancelanimationframe = (\"cancelAnimationFrame\" in _win);\n\n    self.hasborderbox = false;\n\n    this.init = function () {\n\n      self.saved.css = [];\n\n      if (cap.isoperamini) return true; // SORRY, DO NOT WORK!\n      if (cap.isandroid && !(\"hidden\" in _doc)) return true; // Android 3- SORRY, DO NOT WORK!\n\n      opt.emulatetouch = opt.emulatetouch || opt.touchbehavior;  // mantain compatibility with \"touchbehavior\"      \n\n      self.hasborderbox = _win.getComputedStyle && (_win.getComputedStyle(_doc.body)['box-sizing'] === \"border-box\");\n\n      var _scrollyhidden = { 'overflow-y': 'hidden' };\n      if (cap.isie11 || cap.isie10) _scrollyhidden['-ms-overflow-style'] = 'none';  // IE 10 & 11 is always a world apart!\n\n      if (self.ishwscroll) {\n        this.doc.css(cap.transitionstyle, cap.prefixstyle + 'transform 0ms ease-out');\n        if (cap.transitionend) self.bind(self.doc, cap.transitionend, self.onScrollTransitionEnd, false); //I have got to do something usefull!!\n      }\n\n      self.zindex = \"auto\";\n      if (!self.ispage && opt.zindex == \"auto\") {\n        self.zindex = getZIndex() || \"auto\";\n      } else {\n        self.zindex = opt.zindex;\n      }\n\n      if (!self.ispage && self.zindex != \"auto\" && self.zindex > globalmaxzindex) {\n        globalmaxzindex = self.zindex;\n      }\n\n      if (self.isie && self.zindex === 0 && opt.zindex == \"auto\") { // fix IE auto == 0\n        self.zindex = \"auto\";\n      }\n\n      if (!self.ispage || !cap.isieold) {\n\n        var cont = self.docscroll;\n        if (self.ispage) cont = (self.haswrapper) ? self.win : self.doc;\n\n        self.css(cont, _scrollyhidden);\n\n        if (self.ispage && (cap.isie11 || cap.isie)) { // IE 7-11\n          self.css($(\"html\"), _scrollyhidden);\n        }\n\n        if (cap.isios && !self.ispage && !self.haswrapper) self.css($body, {\n          \"-webkit-overflow-scrolling\": \"touch\"\n        }); //force hw acceleration\n\n        var cursor = $(_doc.createElement('div'));\n        cursor.css({\n          position: \"relative\",\n          top: 0,\n          \"float\": \"right\",\n          width: opt.cursorwidth,\n          height: 0,\n          'background-color': opt.cursorcolor,\n          border: opt.cursorborder,\n          'background-clip': 'padding-box',\n          '-webkit-border-radius': opt.cursorborderradius,\n          '-moz-border-radius': opt.cursorborderradius,\n          'border-radius': opt.cursorborderradius\n        });\n\n        cursor.addClass('nicescroll-cursors');\n\n        self.cursor = cursor;\n\n        var rail = $(_doc.createElement('div'));\n        rail.attr('id', self.id);\n        rail.addClass('nicescroll-rails nicescroll-rails-vr');\n\n        var v, a, kp = [\"left\", \"right\", \"top\", \"bottom\"];  //**\n        for (var n in kp) {\n          a = kp[n];\n          v = opt.railpadding[a] || 0;\n          v && rail.css(\"padding-\" + a, v + \"px\");\n        }\n\n        rail.append(cursor);\n\n        rail.width = Math.max(parseFloat(opt.cursorwidth), cursor.outerWidth());\n        rail.css({\n          width: rail.width + \"px\",\n          zIndex: self.zindex,\n          background: opt.background,\n          cursor: \"default\"\n        });\n\n        rail.visibility = true;\n        rail.scrollable = true;\n\n        rail.align = (opt.railalign == \"left\") ? 0 : 1;\n\n        self.rail = rail;\n\n        self.rail.drag = false;\n\n        var zoom = false;\n        if (opt.boxzoom && !self.ispage && !cap.isieold) {\n          zoom = _doc.createElement('div');\n\n          self.bind(zoom, \"click\", self.doZoom);\n          self.bind(zoom, \"mouseenter\", function () {\n            self.zoom.css('opacity', opt.cursoropacitymax);\n          });\n          self.bind(zoom, \"mouseleave\", function () {\n            self.zoom.css('opacity', opt.cursoropacitymin);\n          });\n\n          self.zoom = $(zoom);\n          self.zoom.css({\n            cursor: \"pointer\",\n            zIndex: self.zindex,\n            backgroundImage: 'url(' + opt.scriptpath + 'zoomico.png)',\n            height: 18,\n            width: 18,\n            backgroundPosition: '0 0'\n          });\n          if (opt.dblclickzoom) self.bind(self.win, \"dblclick\", self.doZoom);\n          if (cap.cantouch && opt.gesturezoom) {\n            self.ongesturezoom = function (e) {\n              if (e.scale > 1.5) self.doZoomIn(e);\n              if (e.scale < 0.8) self.doZoomOut(e);\n              return self.cancelEvent(e);\n            };\n            self.bind(self.win, \"gestureend\", self.ongesturezoom);\n          }\n        }\n\n        // init HORIZ\n\n        self.railh = false;\n        var railh;\n\n        if (opt.horizrailenabled) {\n\n          self.css(cont, {\n            overflowX: 'hidden'\n          });\n\n          cursor = $(_doc.createElement('div'));\n          cursor.css({\n            position: \"absolute\",\n            top: 0,\n            height: opt.cursorwidth,\n            width: 0,\n            backgroundColor: opt.cursorcolor,\n            border: opt.cursorborder,\n            backgroundClip: 'padding-box',\n            '-webkit-border-radius': opt.cursorborderradius,\n            '-moz-border-radius': opt.cursorborderradius,\n            'border-radius': opt.cursorborderradius\n          });\n\n          if (cap.isieold) cursor.css('overflow', 'hidden');  //IE6 horiz scrollbar issue\n\n          cursor.addClass('nicescroll-cursors');\n\n          self.cursorh = cursor;\n\n          railh = $(_doc.createElement('div'));\n          railh.attr('id', self.id + '-hr');\n          railh.addClass('nicescroll-rails nicescroll-rails-hr');\n          railh.height = Math.max(parseFloat(opt.cursorwidth), cursor.outerHeight());\n          railh.css({\n            height: railh.height + \"px\",\n            'zIndex': self.zindex,\n            \"background\": opt.background\n          });\n\n          railh.append(cursor);\n\n          railh.visibility = true;\n          railh.scrollable = true;\n\n          railh.align = (opt.railvalign == \"top\") ? 0 : 1;\n\n          self.railh = railh;\n\n          self.railh.drag = false;\n\n        }\n\n        if (self.ispage) {\n\n          rail.css({\n            position: \"fixed\",\n            top: 0,\n            height: \"100%\"\n          });\n\n          rail.css((rail.align) ? { right: 0 } : { left: 0 });\n\n          self.body.append(rail);\n          if (self.railh) {\n            railh.css({\n              position: \"fixed\",\n              left: 0,\n              width: \"100%\"\n            });\n\n            railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\n\n            self.body.append(railh);\n          }\n        } else {\n          if (self.ishwscroll) {\n            if (self.win.css('position') == 'static') self.css(self.win, { 'position': 'relative' });\n            var bd = (self.win[0].nodeName == 'HTML') ? self.body : self.win;\n            $(bd).scrollTop(0).scrollLeft(0);  // fix rail position if content already scrolled\n            if (self.zoom) {\n              self.zoom.css({\n                position: \"absolute\",\n                top: 1,\n                right: 0,\n                \"margin-right\": rail.width + 4\n              });\n              bd.append(self.zoom);\n            }\n            rail.css({\n              position: \"absolute\",\n              top: 0\n            });\n            rail.css((rail.align) ? { right: 0 } : { left: 0 });\n            bd.append(rail);\n            if (railh) {\n              railh.css({\n                position: \"absolute\",\n                left: 0,\n                bottom: 0\n              });\n              railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\n              bd.append(railh);\n            }\n          } else {\n            self.isfixed = (self.win.css(\"position\") == \"fixed\");\n            var rlpos = (self.isfixed) ? \"fixed\" : \"absolute\";\n\n            if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);\n            if (self.viewport) {\n              self.body = self.viewport;\n              if (!(/fixed|absolute/.test(self.viewport.css(\"position\")))) self.css(self.viewport, {\n                \"position\": \"relative\"\n              });\n            }\n\n            rail.css({\n              position: rlpos\n            });\n            if (self.zoom) self.zoom.css({\n              position: rlpos\n            });\n            self.updateScrollBar();\n            self.body.append(rail);\n            if (self.zoom) self.body.append(self.zoom);\n            if (self.railh) {\n              railh.css({\n                position: rlpos\n              });\n              self.body.append(railh);\n            }\n          }\n\n          if (cap.isios) self.css(self.win, {\n            '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\n            '-webkit-touch-callout': 'none'\n          }); // prevent grey layer on click\n\n          if (opt.disableoutline) {\n            if (cap.isie) self.win.attr(\"hideFocus\", \"true\"); // IE, prevent dotted rectangle on focused div\n            if (cap.iswebkit) self.win.css('outline', 'none');  // Webkit outline\n          }\n\n        }\n\n        if (opt.autohidemode === false) {\n          self.autohidedom = false;\n          self.rail.css({\n            opacity: opt.cursoropacitymax\n          });\n          if (self.railh) self.railh.css({\n            opacity: opt.cursoropacitymax\n          });\n        } else if ((opt.autohidemode === true) || (opt.autohidemode === \"leave\")) {\n          self.autohidedom = $().add(self.rail);\n          if (cap.isie8) self.autohidedom = self.autohidedom.add(self.cursor);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n          if (self.railh && cap.isie8) self.autohidedom = self.autohidedom.add(self.cursorh);\n        } else if (opt.autohidemode == \"scroll\") {\n          self.autohidedom = $().add(self.rail);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n        } else if (opt.autohidemode == \"cursor\") {\n          self.autohidedom = $().add(self.cursor);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.cursorh);\n        } else if (opt.autohidemode == \"hidden\") {\n          self.autohidedom = false;\n          self.hide();\n          self.railslocked = false;\n        }\n\n        if (cap.cantouch || self.istouchcapable || opt.emulatetouch || cap.hasmstouch) {\n\n          self.scrollmom = new ScrollMomentumClass2D(self);\n\n          var delayedclick = null;\n\n          self.ontouchstart = function (e) {\n\n            if (self.locked) return false;\n\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;  // need test on surface!!\n\n            self.hasmoving = false;\n\n            if (self.scrollmom.timer) {\n              self.triggerScrollEnd();\n              self.scrollmom.stop();\n            }\n\n            if (!self.railslocked) {\n              var tg = self.getTarget(e);\n\n              if (tg) {\n                var skp = (/INPUT/i.test(tg.nodeName)) && (/range/i.test(tg.type));\n                if (skp) return self.stopPropagation(e);\n              }\n\n              var ismouse = (e.type === \"mousedown\");\n\n              if (!(\"clientX\" in e) && (\"changedTouches\" in e)) {\n                e.clientX = e.changedTouches[0].clientX;\n                e.clientY = e.changedTouches[0].clientY;\n              }\n\n              if (self.forcescreen) {\n                var le = e;\n                e = {\n                  \"original\": (e.original) ? e.original : e\n                };\n                e.clientX = le.screenX;\n                e.clientY = le.screenY;\n              }\n\n              self.rail.drag = {\n                x: e.clientX,\n                y: e.clientY,\n                sx: self.scroll.x,\n                sy: self.scroll.y,\n                st: self.getScrollTop(),\n                sl: self.getScrollLeft(),\n                pt: 2,\n                dl: false,\n                tg: tg\n              };\n\n              if (self.ispage || !opt.directionlockdeadzone) {\n\n                self.rail.drag.dl = \"f\";\n\n              } else {\n\n                var view = {\n                  w: $window.width(),\n                  h: $window.height()\n                };\n\n                var page = self.getContentSize();\n\n                var maxh = page.h - view.h;\n                var maxw = page.w - view.w;\n\n                if (self.rail.scrollable && !self.railh.scrollable) self.rail.drag.ck = (maxh > 0) ? \"v\" : false;\n                else if (!self.rail.scrollable && self.railh.scrollable) self.rail.drag.ck = (maxw > 0) ? \"h\" : false;\n                else self.rail.drag.ck = false;\n\n              }\n\n              if (opt.emulatetouch && self.isiframe && cap.isie) {\n                var wp = self.win.position();\n                self.rail.drag.x += wp.left;\n                self.rail.drag.y += wp.top;\n              }\n\n              self.hasmoving = false;\n              self.lastmouseup = false;\n              self.scrollmom.reset(e.clientX, e.clientY);\n\n              if (tg&&ismouse) {\n\n                var ip = /INPUT|SELECT|BUTTON|TEXTAREA/i.test(tg.nodeName);\n                if (!ip) {\n                  if (cap.hasmousecapture) tg.setCapture();\n                  if (opt.emulatetouch) {\n                    if (tg.onclick && !(tg._onclick || false)) { // intercept DOM0 onclick event\n                      tg._onclick = tg.onclick;\n                      tg.onclick = function (e) {\n                        if (self.hasmoving) return false;\n                        tg._onclick.call(this, e);\n                      };\n                    }\n                    return self.cancelEvent(e);\n                  }\n                  return self.stopPropagation(e);\n                }\n\n                if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))) {\n                  self.preventclick = {\n                    \"tg\": tg,\n                    \"click\": false\n                  };\n                }\n\n              }\n            }\n\n          };\n\n          self.ontouchend = function (e) {\n\n            if (!self.rail.drag) return true;\n\n            if (self.rail.drag.pt == 2) {\n              //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n              if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;\n\n              self.rail.drag = false;\n\n              var ismouse = (e.type === \"mouseup\");\n\n              if (self.hasmoving) {\n                self.scrollmom.doMomentum();\n                self.lastmouseup = true;\n                self.hideCursor();\n                if (cap.hasmousecapture) _doc.releaseCapture();\n                if (ismouse) return self.cancelEvent(e);\n              }\n\n            }\n            else if (self.rail.drag.pt == 1) {\n              return self.onmouseup(e);\n            }\n\n          };\n\n          var moveneedoffset = (opt.emulatetouch && self.isiframe && !cap.hasmousecapture);\n\n          var locktollerance = opt.directionlockdeadzone * 0.3 | 0;\n\n          self.ontouchmove = function (e, byiframe) {\n\n            if (!self.rail.drag) return true;\n\n            if (e.targetTouches && opt.preventmultitouchscrolling) {\n              if (e.targetTouches.length > 1) return true; // multitouch\n            }\n\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return true;\n\n            if (self.rail.drag.pt == 2) {\n\n              if ((\"changedTouches\" in e)) {\n                e.clientX = e.changedTouches[0].clientX;\n                e.clientY = e.changedTouches[0].clientY;\n              }\n\n              var ofy, ofx;\n              ofx = ofy = 0;\n\n              if (moveneedoffset && !byiframe) {\n                var wp = self.win.position();\n                ofx = -wp.left;\n                ofy = -wp.top;\n              }\n\n              var fy = e.clientY + ofy;\n              var my = (fy - self.rail.drag.y);\n              var fx = e.clientX + ofx;\n              var mx = (fx - self.rail.drag.x);\n\n              var ny = self.rail.drag.st - my;\n\n              if (self.ishwscroll && opt.bouncescroll) {\n                if (ny < 0) {\n                  ny = Math.round(ny / 2);\n                } else if (ny > self.page.maxh) {\n                  ny = self.page.maxh + Math.round((ny - self.page.maxh) / 2);\n                }\n              } else {\n                if (ny < 0) {\n                  ny = 0;\n                  fy = 0;\n                }\n                else if (ny > self.page.maxh) {\n                  ny = self.page.maxh;\n                  fy = 0;\n                }\n                if (fy === 0 && !self.hasmoving) {\n                  if (!self.ispage) self.rail.drag = false;\n                  return true;\n                }\n              }\n\n              var nx = self.getScrollLeft();\n\n              if (self.railh && self.railh.scrollable) {\n                nx = (self.isrtlmode) ? mx - self.rail.drag.sl : self.rail.drag.sl - mx;\n\n                if (self.ishwscroll && opt.bouncescroll) {\n                  if (nx < 0) {\n                    nx = Math.round(nx / 2);\n                  } else if (nx > self.page.maxw) {\n                    nx = self.page.maxw + Math.round((nx - self.page.maxw) / 2);\n                  }\n                } else {\n                  if (nx < 0) {\n                    nx = 0;\n                    fx = 0;\n                  }\n                  if (nx > self.page.maxw) {\n                    nx = self.page.maxw;\n                    fx = 0;\n                  }\n                }\n\n              }\n\n\n              if (!self.hasmoving) {\n\n                if (self.rail.drag.y === e.clientY && self.rail.drag.x === e.clientX) return self.cancelEvent(e);  // prevent first useless move event \n\n                var ay = Math.abs(my);\n                var ax = Math.abs(mx);\n                var dz = opt.directionlockdeadzone;\n\n                if (!self.rail.drag.ck) {\n                  if (ay > dz && ax > dz) self.rail.drag.dl = \"f\";\n                  else if (ay > dz) self.rail.drag.dl = (ax > locktollerance) ? \"f\" : \"v\";\n                  else if (ax > dz) self.rail.drag.dl = (ay > locktollerance) ? \"f\" : \"h\";\n                }\n                else if (self.rail.drag.ck == \"v\") {\n                  if (ax > dz && ay <= locktollerance) {\n                    self.rail.drag = false;\n                  }\n                  else if (ay > dz) self.rail.drag.dl = \"v\";\n\n                }\n                else if (self.rail.drag.ck == \"h\") {\n\n                  if (ay > dz && ax <= locktollerance) {\n                    self.rail.drag = false;\n                  }\n                  else if (ax > dz) self.rail.drag.dl = \"h\";\n\n                }\n\n                if (!self.rail.drag.dl) return self.cancelEvent(e);\n\n                self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n                self.hasmoving = true;\n              }\n\n              if (self.preventclick && !self.preventclick.click) {\n                self.preventclick.click = self.preventclick.tg.onclick || false;\n                self.preventclick.tg.onclick = self.onpreventclick;\n              }\n\n              if (self.rail.drag.dl) {\n                if (self.rail.drag.dl == \"v\") nx = self.rail.drag.sl;\n                else if (self.rail.drag.dl == \"h\") ny = self.rail.drag.st;\n              }\n\n              self.synched(\"touchmove\", function () {\n                if (self.rail.drag && (self.rail.drag.pt == 2)) {\n                  if (self.prepareTransition) self.resetTransition();\n                  if (self.rail.scrollable) self.setScrollTop(ny);\n                  self.scrollmom.update(fx, fy);\n                  if (self.railh && self.railh.scrollable) {\n                    self.setScrollLeft(nx);\n                    self.showCursor(ny, nx);\n                  } else {\n                    self.showCursor(ny);\n                  }\n                  if (cap.isie10) _doc.selection.clear();\n                }\n              });\n\n              return self.cancelEvent(e);\n\n            }\n            else if (self.rail.drag.pt == 1) { // drag on cursor\n              return self.onmousemove(e);\n            }\n\n          };\n\n          self.ontouchstartCursor = function (e, hronly) {\n            if (self.rail.drag && self.rail.drag.pt != 3) return;\n            if (self.locked) return self.cancelEvent(e);\n            self.cancelScroll();\n            self.rail.drag = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY,\n              sx: self.scroll.x,\n              sy: self.scroll.y,\n              pt: 3,\n              hr: (!!hronly)\n            };\n            var tg = self.getTarget(e);\n            if (!self.ispage && cap.hasmousecapture) tg.setCapture();\n            if (self.isiframe && !cap.hasmousecapture) {\n              self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n              self.css(self.doc, { \"pointer-events\": \"none\" });\n            }\n            return self.cancelEvent(e);\n          };\n\n          self.ontouchendCursor = function (e) {\n            if (self.rail.drag) {\n              if (cap.hasmousecapture) _doc.releaseCapture();\n              if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n              if (self.rail.drag.pt != 3) return;\n              self.rail.drag = false;\n              return self.cancelEvent(e);\n            }\n          };\n\n          self.ontouchmoveCursor = function (e) {\n            if (self.rail.drag) {\n              if (self.rail.drag.pt != 3) return;\n\n              self.cursorfreezed = true;\n\n              if (self.rail.drag.hr) {\n                self.scroll.x = self.rail.drag.sx + (e.touches[0].clientX - self.rail.drag.x);\n                if (self.scroll.x < 0) self.scroll.x = 0;\n                var mw = self.scrollvaluemaxw;\n                if (self.scroll.x > mw) self.scroll.x = mw;\n              } else {\n                self.scroll.y = self.rail.drag.sy + (e.touches[0].clientY - self.rail.drag.y);\n                if (self.scroll.y < 0) self.scroll.y = 0;\n                var my = self.scrollvaluemax;\n                if (self.scroll.y > my) self.scroll.y = my;\n              }\n\n              self.synched('touchmove', function () {\n                if (self.rail.drag && (self.rail.drag.pt == 3)) {\n                  self.showCursor();\n                  if (self.rail.drag.hr) self.doScrollLeft(Math.round(self.scroll.x * self.scrollratio.x), opt.cursordragspeed);\n                  else self.doScrollTop(Math.round(self.scroll.y * self.scrollratio.y), opt.cursordragspeed);\n                }\n              });\n\n              return self.cancelEvent(e);\n            }\n\n          };\n\n        }\n\n        self.onmousedown = function (e, hronly) {\n          if (self.rail.drag && self.rail.drag.pt != 1) return;\n          if (self.railslocked) return self.cancelEvent(e);\n          self.cancelScroll();\n          self.rail.drag = {\n            x: e.clientX,\n            y: e.clientY,\n            sx: self.scroll.x,\n            sy: self.scroll.y,\n            pt: 1,\n            hr: hronly || false\n          };\n          var tg = self.getTarget(e);\n\n          if (cap.hasmousecapture) tg.setCapture();\n          if (self.isiframe && !cap.hasmousecapture) {\n            self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n            self.css(self.doc, {\n              \"pointer-events\": \"none\"\n            });\n          }\n          self.hasmoving = false;\n          return self.cancelEvent(e);\n        };\n\n        self.onmouseup = function (e) {\n          if (self.rail.drag) {\n            if (self.rail.drag.pt != 1) return true;\n\n            if (cap.hasmousecapture) _doc.releaseCapture();\n            if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n            self.rail.drag = false;\n            self.cursorfreezed = false;\n            if (self.hasmoving) self.triggerScrollEnd();\n            return self.cancelEvent(e);\n          }\n        };\n\n        self.onmousemove = function (e) {\n          if (self.rail.drag) {\n            if (self.rail.drag.pt !== 1) return;\n\n            if (cap.ischrome && e.which === 0) return self.onmouseup(e);\n\n            self.cursorfreezed = true;\n\n            if (!self.hasmoving) self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n\n            self.hasmoving = true;\n\n            if (self.rail.drag.hr) {\n              self.scroll.x = self.rail.drag.sx + (e.clientX - self.rail.drag.x);\n              if (self.scroll.x < 0) self.scroll.x = 0;\n              var mw = self.scrollvaluemaxw;\n              if (self.scroll.x > mw) self.scroll.x = mw;\n            } else {\n              self.scroll.y = self.rail.drag.sy + (e.clientY - self.rail.drag.y);\n              if (self.scroll.y < 0) self.scroll.y = 0;\n              var my = self.scrollvaluemax;\n              if (self.scroll.y > my) self.scroll.y = my;\n            }\n\n            self.synched('mousemove', function () {\n\n              if (self.cursorfreezed) {\n                self.showCursor();\n\n                if (self.rail.drag.hr) {\n                  self.scrollLeft(Math.round(self.scroll.x * self.scrollratio.x));\n                } else {\n                  self.scrollTop(Math.round(self.scroll.y * self.scrollratio.y));\n                }\n\n              }\n            });\n\n            return self.cancelEvent(e);\n          }\n          else {\n            self.checkarea = 0;\n          }\n        };\n\n        if (cap.cantouch || opt.emulatetouch) {\n\n          self.onpreventclick = function (e) {\n            if (self.preventclick) {\n              self.preventclick.tg.onclick = self.preventclick.click;\n              self.preventclick = false;\n              return self.cancelEvent(e);\n            }\n          };\n\n          self.onclick = (cap.isios) ? false : function (e) {  // it needs to check IE11 ???\n            if (self.lastmouseup) {\n              self.lastmouseup = false;\n              return self.cancelEvent(e);\n            } else {\n              return true;\n            }\n          };\n\n          if (opt.grabcursorenabled && cap.cursorgrabvalue) {\n            self.css((self.ispage) ? self.doc : self.win, {\n              'cursor': cap.cursorgrabvalue\n            });\n            self.css(self.rail, {\n              'cursor': cap.cursorgrabvalue\n            });\n          }\n\n        } else {\n\n          var checkSelectionScroll = function (e) {\n            if (!self.selectiondrag) return;\n\n            if (e) {\n              var ww = self.win.outerHeight();\n              var df = (e.pageY - self.selectiondrag.top);\n              if (df > 0 && df < ww) df = 0;\n              if (df >= ww) df -= ww;\n              self.selectiondrag.df = df;\n            }\n            if (self.selectiondrag.df === 0) return;\n\n            var rt = -(self.selectiondrag.df*2/6)|0;\n            self.doScrollBy(rt);\n\n            self.debounced(\"doselectionscroll\", function () {\n              checkSelectionScroll();\n            }, 50);\n          };\n\n          if (\"getSelection\" in _doc) { // A grade - Major browsers\n            self.hasTextSelected = function () {\n              return (_doc.getSelection().rangeCount > 0);\n            };\n          } else if (\"selection\" in _doc) { //IE9-\n            self.hasTextSelected = function () {\n              return (_doc.selection.type != \"None\");\n            };\n          } else {\n            self.hasTextSelected = function () { // no support\n              return false;\n            };\n          }\n\n          self.onselectionstart = function (e) {\n            //  More testing - severe chrome issues           \n            /* \n                          if (!self.haswrapper&&(e.which&&e.which==2)) {  // fool browser to manage middle button scrolling\n                            self.win.css({'overflow':'auto'});\n                            setTimeout(function(){\n                              self.win.css({'overflow':'hidden'});\n                            },10);                \n                            return true;\n                          }            \n            */\n            if (self.ispage) return;\n            self.selectiondrag = self.win.offset();\n          };\n\n          self.onselectionend = function (e) {\n            self.selectiondrag = false;\n          };\n          self.onselectiondrag = function (e) {\n            if (!self.selectiondrag) return;\n            if (self.hasTextSelected()) self.debounced(\"selectionscroll\", function () {\n              checkSelectionScroll(e);\n            }, 250);\n          };\n        }\n\n        if (cap.hasw3ctouch) { //IE11+\n          self.css((self.ispage) ? $(\"html\") : self.win, { 'touch-action': 'none' });\n          self.css(self.rail, {\n            'touch-action': 'none'\n          });\n          self.css(self.cursor, {\n            'touch-action': 'none'\n          });\n          self.bind(self.win, \"pointerdown\", self.ontouchstart);\n          self.bind(_doc, \"pointerup\", self.ontouchend);\n          self.delegate(_doc, \"pointermove\", self.ontouchmove);\n        } else if (cap.hasmstouch) { //IE10\n          self.css((self.ispage) ? $(\"html\") : self.win, { '-ms-touch-action': 'none' });\n          self.css(self.rail, {\n            '-ms-touch-action': 'none'\n          });\n          self.css(self.cursor, {\n            '-ms-touch-action': 'none'\n          });\n          self.bind(self.win, \"MSPointerDown\", self.ontouchstart);\n          self.bind(_doc, \"MSPointerUp\", self.ontouchend);\n          self.delegate(_doc, \"MSPointerMove\", self.ontouchmove);\n          self.bind(self.cursor, \"MSGestureHold\", function (e) {\n            e.preventDefault();\n          });\n          self.bind(self.cursor, \"contextmenu\", function (e) {\n            e.preventDefault();\n          });\n        } else if (cap.cantouch) { // smartphones/touch devices\n          self.bind(self.win, \"touchstart\", self.ontouchstart, false, true);\n          self.bind(_doc, \"touchend\", self.ontouchend, false, true);\n          self.bind(_doc, \"touchcancel\", self.ontouchend, false, true);\n          self.delegate(_doc, \"touchmove\", self.ontouchmove, false, true);\n        }\n\n        if (opt.emulatetouch) {\n          self.bind(self.win, \"mousedown\", self.ontouchstart, false, true);\n          self.bind(_doc, \"mouseup\", self.ontouchend, false, true);\n          self.bind(_doc, \"mousemove\", self.ontouchmove, false, true);\n        }\n\n        if (opt.cursordragontouch || (!cap.cantouch && !opt.emulatetouch)) {\n\n          self.rail.css({\n            cursor: \"default\"\n          });\n          self.railh && self.railh.css({\n            cursor: \"default\"\n          });\n\n          self.jqbind(self.rail, \"mouseenter\", function () {\n            if (!self.ispage && !self.win.is(\":visible\")) return false;\n            if (self.canshowonmouseevent) self.showCursor();\n            self.rail.active = true;\n          });\n          self.jqbind(self.rail, \"mouseleave\", function () {\n            self.rail.active = false;\n            if (!self.rail.drag) self.hideCursor();\n          });\n\n          if (opt.sensitiverail) {\n            self.bind(self.rail, \"click\", function (e) {\n              self.doRailClick(e, false, false);\n            });\n            self.bind(self.rail, \"dblclick\", function (e) {\n              self.doRailClick(e, true, false);\n            });\n            self.bind(self.cursor, \"click\", function (e) {\n              self.cancelEvent(e);\n            });\n            self.bind(self.cursor, \"dblclick\", function (e) {\n              self.cancelEvent(e);\n            });\n          }\n\n          if (self.railh) {\n            self.jqbind(self.railh, \"mouseenter\", function () {\n              if (!self.ispage && !self.win.is(\":visible\")) return false;\n              if (self.canshowonmouseevent) self.showCursor();\n              self.rail.active = true;\n            });\n            self.jqbind(self.railh, \"mouseleave\", function () {\n              self.rail.active = false;\n              if (!self.rail.drag) self.hideCursor();\n            });\n\n            if (opt.sensitiverail) {\n              self.bind(self.railh, \"click\", function (e) {\n                self.doRailClick(e, false, true);\n              });\n              self.bind(self.railh, \"dblclick\", function (e) {\n                self.doRailClick(e, true, true);\n              });\n              self.bind(self.cursorh, \"click\", function (e) {\n                self.cancelEvent(e);\n              });\n              self.bind(self.cursorh, \"dblclick\", function (e) {\n                self.cancelEvent(e);\n              });\n            }\n\n          }\n\n        }\n\n        if (opt.cursordragontouch && (this.istouchcapable || cap.cantouch)) {\n          self.bind(self.cursor, \"touchstart\", self.ontouchstartCursor);\n          self.bind(self.cursor, \"touchmove\", self.ontouchmoveCursor);\n          self.bind(self.cursor, \"touchend\", self.ontouchendCursor);\n          self.cursorh && self.bind(self.cursorh, \"touchstart\", function (e) {\n            self.ontouchstartCursor(e, true);\n          });\n          self.cursorh && self.bind(self.cursorh, \"touchmove\", self.ontouchmoveCursor);\n          self.cursorh && self.bind(self.cursorh, \"touchend\", self.ontouchendCursor);\n        }\n\n//        if (!cap.cantouch && !opt.emulatetouch) {\n        if (!opt.emulatetouch && !cap.isandroid && !cap.isios) {\n\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.onmouseup);\n          self.bind(_doc, \"mousemove\", self.onmousemove);\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n          self.bind(self.cursor, \"mousedown\", self.onmousedown);\n          self.bind(self.cursor, \"mouseup\", self.onmouseup);\n\n          if (self.railh) {\n            self.bind(self.cursorh, \"mousedown\", function (e) {\n              self.onmousedown(e, true);\n            });\n            self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n          }\n\n          if (!self.ispage && opt.enablescrollonselection) {\n            self.bind(self.win[0], \"mousedown\", self.onselectionstart);\n            self.bind(_doc, \"mouseup\", self.onselectionend);\n            self.bind(self.cursor, \"mouseup\", self.onselectionend);\n            if (self.cursorh) self.bind(self.cursorh, \"mouseup\", self.onselectionend);\n            self.bind(_doc, \"mousemove\", self.onselectiondrag);\n          }\n\n          if (self.zoom) {\n            self.jqbind(self.zoom, \"mouseenter\", function () {\n              if (self.canshowonmouseevent) self.showCursor();\n              self.rail.active = true;\n            });\n            self.jqbind(self.zoom, \"mouseleave\", function () {\n              self.rail.active = false;\n              if (!self.rail.drag) self.hideCursor();\n            });\n          }\n\n        } else {\n\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.ontouchend);\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n          if (opt.cursordragontouch) {\n            self.bind(self.cursor, \"mousedown\", self.onmousedown);\n            self.bind(self.cursor, \"mouseup\", self.onmouseup);\n            self.cursorh && self.bind(self.cursorh, \"mousedown\", function (e) {\n              self.onmousedown(e, true);\n            });\n            self.cursorh && self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n          } else {\n            self.bind(self.rail, \"mousedown\", function (e) { e.preventDefault(); });  // prevent text selection             \n            self.railh && self.bind(self.railh, \"mousedown\", function (e) { e.preventDefault(); });\n          }\n\n        }\n\n\n        if (opt.enablemousewheel) {\n          if (!self.isiframe) self.mousewheel((cap.isie && self.ispage) ? _doc : self.win, self.onmousewheel);\n          self.mousewheel(self.rail, self.onmousewheel);\n          if (self.railh) self.mousewheel(self.railh, self.onmousewheelhr);\n        }\n\n        if (!self.ispage && !cap.cantouch && !(/HTML|^BODY/.test(self.win[0].nodeName))) {\n          if (!self.win.attr(\"tabindex\")) self.win.attr({\n            \"tabindex\": ++tabindexcounter\n          });\n\n          self.bind(self.win, \"focus\", function (e) {  // better using native events\n            domfocus = (self.getTarget(e)).id || self.getTarget(e) || false;\n            self.hasfocus = true;\n            if (self.canshowonmouseevent) self.noticeCursor();\n          });\n          self.bind(self.win, \"blur\", function (e) {  // *\n            domfocus = false;\n            self.hasfocus = false;\n          });\n\n          self.bind(self.win, \"mouseenter\", function (e) {   // *\n            mousefocus = (self.getTarget(e)).id || self.getTarget(e) || false;\n            self.hasmousefocus = true;\n            if (self.canshowonmouseevent) self.noticeCursor();\n          });\n          self.bind(self.win, \"mouseleave\", function (e) {   // *       \n            mousefocus = false;\n            self.hasmousefocus = false;\n            if (!self.rail.drag) self.hideCursor();\n          });\n\n        }\n\n\n        //Thanks to http://www.quirksmode.org !!\n        self.onkeypress = function (e) {\n          if (self.railslocked && self.page.maxh === 0) return true;\n\n          e = e || _win.event;\n          var tg = self.getTarget(e);\n          if (tg && /INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {\n            var tp = tg.getAttribute('type') || tg.type || false;\n            if ((!tp) || !(/submit|button|cancel/i.tp)) return true;\n          }\n\n          if ($(tg).attr('contenteditable')) return true;\n\n          if (self.hasfocus || (self.hasmousefocus && !domfocus) || (self.ispage && !domfocus && !mousefocus)) {\n            var key = e.keyCode;\n\n            if (self.railslocked && key != 27) return self.cancelEvent(e);\n\n            var ctrl = e.ctrlKey || false;\n            var shift = e.shiftKey || false;\n\n            var ret = false;\n            switch (key) {\n              case 38:\n              case 63233: //safari\n                self.doScrollBy(24 * 3);\n                ret = true;\n                break;\n              case 40:\n              case 63235: //safari\n                self.doScrollBy(-24 * 3);\n                ret = true;\n                break;\n              case 37:\n              case 63232: //safari\n                if (self.railh) {\n                  (ctrl) ? self.doScrollLeft(0) : self.doScrollLeftBy(24 * 3);\n                  ret = true;\n                }\n                break;\n              case 39:\n              case 63234: //safari\n                if (self.railh) {\n                  (ctrl) ? self.doScrollLeft(self.page.maxw) : self.doScrollLeftBy(-24 * 3);\n                  ret = true;\n                }\n                break;\n              case 33:\n              case 63276: // safari\n                self.doScrollBy(self.view.h);\n                ret = true;\n                break;\n              case 34:\n              case 63277: // safari\n                self.doScrollBy(-self.view.h);\n                ret = true;\n                break;\n              case 36:\n              case 63273: // safari                \n                (self.railh && ctrl) ? self.doScrollPos(0, 0) : self.doScrollTo(0);\n                ret = true;\n                break;\n              case 35:\n              case 63275: // safari\n                (self.railh && ctrl) ? self.doScrollPos(self.page.maxw, self.page.maxh) : self.doScrollTo(self.page.maxh);\n                ret = true;\n                break;\n              case 32:\n                if (opt.spacebarenabled) {\n                  (shift) ? self.doScrollBy(self.view.h) : self.doScrollBy(-self.view.h);\n                  ret = true;\n                }\n                break;\n              case 27: // ESC\n                if (self.zoomactive) {\n                  self.doZoom();\n                  ret = true;\n                }\n                break;\n            }\n            if (ret) return self.cancelEvent(e);\n          }\n        };\n\n        if (opt.enablekeyboard) self.bind(_doc, (cap.isopera && !cap.isopera12) ? \"keypress\" : \"keydown\", self.onkeypress);\n\n        self.bind(_doc, \"keydown\", function (e) {\n          var ctrl = e.ctrlKey || false;\n          if (ctrl) self.wheelprevented = true;\n        });\n        self.bind(_doc, \"keyup\", function (e) {\n          var ctrl = e.ctrlKey || false;\n          if (!ctrl) self.wheelprevented = false;\n        });\n        self.bind(_win, \"blur\", function (e) {\n          self.wheelprevented = false;\n        });\n\n        self.bind(_win, 'resize', self.onscreenresize);\n        self.bind(_win, 'orientationchange', self.onscreenresize);\n\n        self.bind(_win, \"load\", self.lazyResize);\n\n        if (cap.ischrome && !self.ispage && !self.haswrapper) { //chrome void scrollbar bug - it persists in version 26\n          var tmp = self.win.attr(\"style\");\n          var ww = parseFloat(self.win.css(\"width\")) + 1;\n          self.win.css('width', ww);\n          self.synched(\"chromefix\", function () {\n            self.win.attr(\"style\", tmp);\n          });\n        }\n\n\n        // Trying a cross-browser implementation - good luck!\n\n        self.onAttributeChange = function (e) {\n          self.lazyResize(self.isieold ? 250 : 30);\n        };\n\n        if (opt.enableobserver) {\n\n          if ((!self.isie11) && (ClsMutationObserver !== false)) {  // IE11 crashes  #568\n            self.observerbody = new ClsMutationObserver(function (mutations) {\n              mutations.forEach(function (mut) {\n                if (mut.type == \"attributes\") {\n                  return ($body.hasClass(\"modal-open\") && $body.hasClass(\"modal-dialog\") && !$.contains($('.modal-dialog')[0], self.doc[0])) ? self.hide() : self.show();  // Support for Bootstrap modal; Added check if the nice scroll element is inside a modal\n                }\n              });\n              if (self.me.clientWidth != self.page.width || self.me.clientHeight != self.page.height) return self.lazyResize(30);\n            });\n            self.observerbody.observe(_doc.body, {\n              childList: true,\n              subtree: true,\n              characterData: false,\n              attributes: true,\n              attributeFilter: ['class']\n            });\n          }\n\n          if (!self.ispage && !self.haswrapper) {\n\n            var _dom = self.win[0];\n\n            // redesigned MutationObserver for Chrome18+/Firefox14+/iOS6+ with support for: remove div, add/remove content\n            if (ClsMutationObserver !== false) {\n              self.observer = new ClsMutationObserver(function (mutations) {\n                mutations.forEach(self.onAttributeChange);\n              });\n              self.observer.observe(_dom, {\n                childList: true,\n                characterData: false,\n                attributes: true,\n                subtree: false\n              });\n              self.observerremover = new ClsMutationObserver(function (mutations) {\n                mutations.forEach(function (mo) {\n                  if (mo.removedNodes.length > 0) {\n                    for (var dd in mo.removedNodes) {\n                      if (!!self && (mo.removedNodes[dd] === _dom)) return self.remove();\n                    }\n                  }\n                });\n              });\n              self.observerremover.observe(_dom.parentNode, {\n                childList: true,\n                characterData: false,\n                attributes: false,\n                subtree: false\n              });\n            } else {\n              self.bind(_dom, (cap.isie && !cap.isie9) ? \"propertychange\" : \"DOMAttrModified\", self.onAttributeChange);\n              if (cap.isie9) _dom.attachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n              self.bind(_dom, \"DOMNodeRemoved\", function (e) {\n                if (e.target === _dom) self.remove();\n              });\n            }\n          }\n\n        }\n\n        //\n\n        if (!self.ispage && opt.boxzoom) self.bind(_win, \"resize\", self.resizeZoom);\n        if (self.istextarea) {\n          self.bind(self.win, \"keydown\", self.lazyResize);\n          self.bind(self.win, \"mouseup\", self.lazyResize);\n        }\n\n        self.lazyResize(30);\n\n      }\n\n      if (this.doc[0].nodeName == 'IFRAME') {\n        var oniframeload = function () {\n          self.iframexd = false;\n          var doc;\n          try {\n            doc = 'contentDocument' in this ? this.contentDocument : this.contentWindow._doc;\n            var a = doc.domain;\n          } catch (e) {\n            self.iframexd = true;\n            doc = false;\n          }\n\n          if (self.iframexd) {\n            if (\"console\" in _win) console.log('NiceScroll error: policy restriced iframe');\n            return true; //cross-domain - I can't manage this        \n          }\n\n          self.forcescreen = true;\n\n          if (self.isiframe) {\n            self.iframe = {\n              \"doc\": $(doc),\n              \"html\": self.doc.contents().find('html')[0],\n              \"body\": self.doc.contents().find('body')[0]\n            };\n            self.getContentSize = function () {\n              return {\n                w: Math.max(self.iframe.html.scrollWidth, self.iframe.body.scrollWidth),\n                h: Math.max(self.iframe.html.scrollHeight, self.iframe.body.scrollHeight)\n              };\n            };\n            self.docscroll = $(self.iframe.body);\n          }\n\n          if (!cap.isios && opt.iframeautoresize && !self.isiframe) {\n            self.win.scrollTop(0); // reset position\n            self.doc.height(\"\"); //reset height to fix browser bug\n            var hh = Math.max(doc.getElementsByTagName('html')[0].scrollHeight, doc.body.scrollHeight);\n            self.doc.height(hh);\n          }\n          self.lazyResize(30);\n\n          self.css($(self.iframe.body), _scrollyhidden);\n\n          if (cap.isios && self.haswrapper) {\n            self.css($(doc.body), {\n              '-webkit-transform': 'translate3d(0,0,0)'\n            }); // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/\n          }\n\n          if ('contentWindow' in this) {\n            self.bind(this.contentWindow, \"scroll\", self.onscroll); //IE8 & minor\n          } else {\n            self.bind(doc, \"scroll\", self.onscroll);\n          }\n\n          if (opt.enablemousewheel) {\n            self.mousewheel(doc, self.onmousewheel);\n          }\n\n          if (opt.enablekeyboard) self.bind(doc, (cap.isopera) ? \"keypress\" : \"keydown\", self.onkeypress);\n\n          if (cap.cantouch) {\n            self.bind(doc, \"touchstart\", self.ontouchstart);\n            self.bind(doc, \"touchmove\", self.ontouchmove);\n          }\n          else if (opt.emulatetouch) {\n            self.bind(doc, \"mousedown\", self.ontouchstart);\n            self.bind(doc, \"mousemove\", function (e) {\n              return self.ontouchmove(e, true);\n            });\n            if (opt.grabcursorenabled && cap.cursorgrabvalue) self.css($(doc.body), {\n              'cursor': cap.cursorgrabvalue\n            });\n          }\n\n          self.bind(doc, \"mouseup\", self.ontouchend);\n\n          if (self.zoom) {\n            if (opt.dblclickzoom) self.bind(doc, 'dblclick', self.doZoom);\n            if (self.ongesturezoom) self.bind(doc, \"gestureend\", self.ongesturezoom);\n          }\n        };\n\n        if (this.doc[0].readyState && this.doc[0].readyState === \"complete\") {\n          setTimeout(function () {\n            oniframeload.call(self.doc[0], false);\n          }, 500);\n        }\n        self.bind(this.doc, \"load\", oniframeload);\n\n      }\n\n    };\n\n    this.showCursor = function (py, px) {\n      if (self.cursortimeout) {\n        clearTimeout(self.cursortimeout);\n        self.cursortimeout = 0;\n      }\n      if (!self.rail) return;\n      if (self.autohidedom) {\n        self.autohidedom.stop().css({\n          opacity: opt.cursoropacitymax\n        });\n        self.cursoractive = true;\n      }\n\n      if (!self.rail.drag || self.rail.drag.pt != 1) {\n        if (py !== undefined && py !== false) {\n          self.scroll.y = (py / self.scrollratio.y) | 0;\n        }\n        if (px !== undefined) {\n          self.scroll.x = (px / self.scrollratio.x) | 0;\n        }\n      }\n\n      self.cursor.css({\n        height: self.cursorheight,\n        top: self.scroll.y\n      });\n      if (self.cursorh) {\n        var lx = (self.hasreversehr) ? self.scrollvaluemaxw - self.scroll.x : self.scroll.x;\n        self.cursorh.css({\n          width: self.cursorwidth,\n          left: (!self.rail.align && self.rail.visibility) ? lx + self.rail.width : lx\n        });\n        self.cursoractive = true;\n      }\n\n      if (self.zoom) self.zoom.stop().css({\n        opacity: opt.cursoropacitymax\n      });\n    };\n\n    this.hideCursor = function (tm) {\n      if (self.cursortimeout) return;\n      if (!self.rail) return;\n      if (!self.autohidedom) return;\n\n      if (self.hasmousefocus && opt.autohidemode === \"leave\") return;\n      self.cursortimeout = setTimeout(function () {\n        if (!self.rail.active || !self.showonmouseevent) {\n          self.autohidedom.stop().animate({\n            opacity: opt.cursoropacitymin\n          });\n          if (self.zoom) self.zoom.stop().animate({\n            opacity: opt.cursoropacitymin\n          });\n          self.cursoractive = false;\n        }\n        self.cursortimeout = 0;\n      }, tm || opt.hidecursordelay);\n    };\n\n    this.noticeCursor = function (tm, py, px) {\n      self.showCursor(py, px);\n      if (!self.rail.active) self.hideCursor(tm);\n    };\n\n    this.getContentSize =\n      (self.ispage) ?\n        function () {\n          return {\n            w: Math.max(_doc.body.scrollWidth, _doc.documentElement.scrollWidth),\n            h: Math.max(_doc.body.scrollHeight, _doc.documentElement.scrollHeight)\n          };\n        } : (self.haswrapper) ?\n          function () {\n            return {\n              w: self.doc[0].offsetWidth,\n              h: self.doc[0].offsetHeight\n            };\n          } : function () {\n            return {\n              w: self.docscroll[0].scrollWidth,\n              h: self.docscroll[0].scrollHeight\n            };\n          };\n\n    this.onResize = function (e, page) {\n\n      if (!self || !self.win) return false;\n\n      var premaxh = self.page.maxh,\n          premaxw = self.page.maxw,\n          previewh = self.view.h,\n          previeww = self.view.w;\n\n      self.view = {\n        w: (self.ispage) ? self.win.width() : self.win[0].clientWidth,\n        h: (self.ispage) ? self.win.height() : self.win[0].clientHeight\n      };\n\n      self.page = (page) ? page : self.getContentSize();\n\n      self.page.maxh = Math.max(0, self.page.h - self.view.h);\n      self.page.maxw = Math.max(0, self.page.w - self.view.w);\n\n      if ((self.page.maxh == premaxh) && (self.page.maxw == premaxw) && (self.view.w == previeww) && (self.view.h == previewh)) {\n        // test position        \n        if (!self.ispage) {\n          var pos = self.win.offset();\n          if (self.lastposition) {\n            var lst = self.lastposition;\n            if ((lst.top == pos.top) && (lst.left == pos.left)) return self; //nothing to do            \n          }\n          self.lastposition = pos;\n        } else {\n          return self; //nothing to do\n        }\n      }\n\n      if (self.page.maxh === 0) {\n        self.hideRail();\n        self.scrollvaluemax = 0;\n        self.scroll.y = 0;\n        self.scrollratio.y = 0;\n        self.cursorheight = 0;\n        self.setScrollTop(0);\n        if (self.rail) self.rail.scrollable = false;\n      } else {\n        self.page.maxh -= (opt.railpadding.top + opt.railpadding.bottom);\n        self.rail.scrollable = true;\n      }\n\n      if (self.page.maxw === 0) {\n        self.hideRailHr();\n        self.scrollvaluemaxw = 0;\n        self.scroll.x = 0;\n        self.scrollratio.x = 0;\n        self.cursorwidth = 0;\n        self.setScrollLeft(0);\n        if (self.railh) {\n          self.railh.scrollable = false;\n        }\n      } else {\n        self.page.maxw -= (opt.railpadding.left + opt.railpadding.right);\n        if (self.railh) self.railh.scrollable = (opt.horizrailenabled);\n      }\n\n      self.railslocked = (self.locked) || ((self.page.maxh === 0) && (self.page.maxw === 0));\n      if (self.railslocked) {\n        if (!self.ispage) self.updateScrollBar(self.view);\n        return false;\n      }\n\n      if (!self.hidden) {\n        if (!self.rail.visibility) self.showRail();\n        if (self.railh && !self.railh.visibility) self.showRailHr();\n      }\n\n      if (self.istextarea && self.win.css('resize') && self.win.css('resize') != 'none') self.view.h -= 20;\n\n      self.cursorheight = Math.min(self.view.h, Math.round(self.view.h * (self.view.h / self.page.h)));\n      self.cursorheight = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorheight);\n\n      self.cursorwidth = Math.min(self.view.w, Math.round(self.view.w * (self.view.w / self.page.w)));\n      self.cursorwidth = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorwidth);\n\n      self.scrollvaluemax = self.view.h - self.cursorheight - (opt.railpadding.top + opt.railpadding.bottom);\n      if (!self.hasborderbox) self.scrollvaluemax -= self.cursor[0].offsetHeight - self.cursor[0].clientHeight;\n\n      if (self.railh) {\n        self.railh.width = (self.page.maxh > 0) ? (self.view.w - self.rail.width) : self.view.w;\n        self.scrollvaluemaxw = self.railh.width - self.cursorwidth - (opt.railpadding.left + opt.railpadding.right);\n      }\n\n      if (!self.ispage) self.updateScrollBar(self.view);\n\n      self.scrollratio = {\n        x: (self.page.maxw / self.scrollvaluemaxw),\n        y: (self.page.maxh / self.scrollvaluemax)\n      };\n\n      var sy = self.getScrollTop();\n      if (sy > self.page.maxh) {\n        self.doScrollTop(self.page.maxh);\n      } else {\n        self.scroll.y = (self.getScrollTop() / self.scrollratio.y) | 0;\n        self.scroll.x = (self.getScrollLeft() / self.scrollratio.x) | 0;\n        if (self.cursoractive) self.noticeCursor();\n      }\n\n      if (self.scroll.y && (self.getScrollTop() === 0)) self.doScrollTo((self.scroll.y * self.scrollratio.y)|0);\n\n      return self;\n    };\n\n    this.resize = self.onResize;\n\n    var hlazyresize = 0;\n\n    this.onscreenresize = function(e) {\n      clearTimeout(hlazyresize);\n\n      var hiderails = (!self.ispage && !self.haswrapper);\n      if (hiderails) self.hideRails();\n\n      hlazyresize = setTimeout(function () {\n        if (self) {\n          if (hiderails) self.showRails();\n          self.resize();\n        }\n        hlazyresize=0;\n      }, 120);\n    };\n\n    this.lazyResize = function (tm) { // event debounce\n\n      clearTimeout(hlazyresize);\n\n      tm = isNaN(tm) ? 240 : tm;\n\n      hlazyresize = setTimeout(function () {\n        self && self.resize();\n        hlazyresize=0;\n      }, tm);\n\n      return self;\n\n    };\n\n    // derived by MDN https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/wheel\n    function _modernWheelEvent(dom, name, fn, bubble) {\n      self._bind(dom, name, function (e) {\n        e = e || _win.event;\n        var event = {\n          original: e,\n          target: e.target || e.srcElement,\n          type: \"wheel\",\n          deltaMode: e.type == \"MozMousePixelScroll\" ? 0 : 1,\n          deltaX: 0,\n          deltaZ: 0,\n          preventDefault: function () {\n            e.preventDefault ? e.preventDefault() : e.returnValue = false;\n            return false;\n          },\n          stopImmediatePropagation: function () {\n            (e.stopImmediatePropagation) ? e.stopImmediatePropagation() : e.cancelBubble = true;\n          }\n        };\n\n        if (name == \"mousewheel\") {\n          e.wheelDeltaX && (event.deltaX = -1 / 40 * e.wheelDeltaX);\n          e.wheelDeltaY && (event.deltaY = -1 / 40 * e.wheelDeltaY);\n          !event.deltaY && !event.deltaX && (event.deltaY = -1 / 40 * e.wheelDelta);\n        } else {\n          event.deltaY = e.detail;\n        }\n\n        return fn.call(dom, event);\n      }, bubble);\n    }\n\n\n\n    this.jqbind = function (dom, name, fn) { // use jquery bind for non-native events (mouseenter/mouseleave)\n      self.events.push({\n        e: dom,\n        n: name,\n        f: fn,\n        q: true\n      });\n      $(dom).on(name, fn);\n    };\n\n    this.mousewheel = function (dom, fn, bubble) { // bind mousewheel\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\n      if (\"onwheel\" in _doc.createElement(\"div\")) { // Modern browsers support \"wheel\"\n        self._bind(el, \"wheel\", fn, bubble || false);\n      } else {\n        var wname = (_doc.onmousewheel !== undefined) ? \"mousewheel\" : \"DOMMouseScroll\"; // older Webkit+IE support or older Firefox          \n        _modernWheelEvent(el, wname, fn, bubble || false);\n        if (wname == \"DOMMouseScroll\") _modernWheelEvent(el, \"MozMousePixelScroll\", fn, bubble || false); // Firefox legacy\n      }\n    };\n\n    var passiveSupported = false;\n\n    if (cap.haseventlistener) {  // W3C standard event model\n\n      // thanks to https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n      try { var options = Object.defineProperty({}, \"passive\", { get: function () { passiveSupported = !0; } }); _win.addEventListener(\"test\", null, options); } catch (err) { }\n\n      this.stopPropagation = function (e) {\n        if (!e) return false;\n        e = (e.original) ? e.original : e;\n        e.stopPropagation();\n        return false;\n      };\n\n      this.cancelEvent = function(e) {\n        if (e.cancelable) e.preventDefault();\n        e.stopImmediatePropagation();\n        if (e.preventManipulation) e.preventManipulation();  // IE10+\n        return false;\n      };      \n\n    } else {\n\n      // inspired from https://gist.github.com/jonathantneal/2415137      \n\n      Event.prototype.preventDefault = function () {\n        this.returnValue = false;\n      };\n\n      Event.prototype.stopPropagation = function () {\n        this.cancelBubble = true;\n      };\n\n      _win.constructor.prototype.addEventListener = _doc.constructor.prototype.addEventListener = Element.prototype.addEventListener = function (type, listener, useCapture) {\n        this.attachEvent(\"on\" + type, listener);\n      };\n      _win.constructor.prototype.removeEventListener = _doc.constructor.prototype.removeEventListener = Element.prototype.removeEventListener = function (type, listener, useCapture) {\n        this.detachEvent(\"on\" + type, listener);\n      };\n\n      // Thanks to http://www.switchonthecode.com !!\n      this.cancelEvent = function (e) {\n        e = e || _win.event;\n        if (e) {          \n          e.cancelBubble = true;\n          e.cancel = true;\n          e.returnValue = false;\n        }  \n        return false;\n      };\n\n      this.stopPropagation = function (e) {\n        e = e || _win.event;\n        if (e) e.cancelBubble = true;\n        return false;\n      };\n\n    }\n\n    this.delegate = function (dom, name, fn, bubble, active) {\n\n      var de = delegatevents[name] || false;\n\n      if (!de) {\n\n        de = {\n          a: [],\n          l: [],\n          f: function (e) {\n            var lst = de.l, l = lst.length - 1;\n            var r = false;\n            for (var a = l; a >= 0; a--) {\n              r = lst[a].call(e.target, e);\n              if (r === false) return false;\n            }\n            return r;\n          }\n        };\n\n        self.bind(dom, name, de.f, bubble, active);\n\n        delegatevents[name] = de;\n\n      }\n\n      if (self.ispage) {\n        de.a = [self.id].concat(de.a);\n        de.l = [fn].concat(de.l);\n      } else {\n        de.a.push(self.id);\n        de.l.push(fn);        \n      }\n\n    };\n\n    this.undelegate = function (dom, name, fn, bubble, active) {\n      var de = delegatevents[name]||false;\n      if (de) {\n        for (var a=0,l=de.l.length;a<l;a++) {\n          if (de.a[a] === self.id) {\n            de.a.splice(a);\n            de.l.splice(a);\n            if (de.a.length===0) {\n              self._unbind(dom,name,de.l.f);\n              delegatevents[name] = null;\n            }\n          }\n        }\n      }\n    };\n\n    this.bind = function (dom, name, fn, bubble, active) {\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\n      self._bind(el, name, fn, bubble || false, active || false);\n    };\n\n    this._bind = function (el, name, fn, bubble, active) { // primitive bind\n\n      self.events.push({\n        e: el,\n        n: name,\n        f: fn,\n        b: bubble,\n        q: false\n      });\n\n      (passiveSupported && active) ? el.addEventListener(name, fn, { passive: false, capture: bubble }) : el.addEventListener(name, fn, bubble || false);\n    };\n\n    this._unbind = function (el, name, fn, bub) { // primitive unbind\n      if (delegatevents[name]) self.undelegate(el, name, fn, bub);\n      else el.removeEventListener(name, fn, bub);\n    };\n\n    this.unbindAll = function () {\n      for (var a = 0; a < self.events.length; a++) {\n        var r = self.events[a];\n        (r.q) ? r.e.unbind(r.n, r.f) : self._unbind(r.e, r.n, r.f, r.b);\n      }\n    };\n\n    this.showRails = function () {\n      return self.showRail().showRailHr();\n    };\n\n    this.showRail = function () {\n      if ((self.page.maxh !== 0) && (self.ispage || self.win.css('display') != 'none')) {\n        //self.visibility = true;\n        self.rail.visibility = true;\n        self.rail.css('display', 'block');\n      }\n      return self;\n    };\n\n    this.showRailHr = function () {\n      if (self.railh) {\n        if ((self.page.maxw !== 0) && (self.ispage || self.win.css('display') != 'none')) {\n          self.railh.visibility = true;\n          self.railh.css('display', 'block');\n        }\n      }\n      return self;\n    };\n\n    this.hideRails = function () {\n      return self.hideRail().hideRailHr();\n    };\n\n    this.hideRail = function () {\n      //self.visibility = false;\n      self.rail.visibility = false;\n      self.rail.css('display', 'none');\n      return self;\n    };\n\n    this.hideRailHr = function () {\n      if (self.railh) {\n        self.railh.visibility = false;\n        self.railh.css('display', 'none');\n      }\n      return self;\n    };\n\n    this.show = function () {\n      self.hidden = false;\n      self.railslocked = false;\n      return self.showRails();\n    };\n\n    this.hide = function () {\n      self.hidden = true;\n      self.railslocked = true;\n      return self.hideRails();\n    };\n\n    this.toggle = function () {\n      return (self.hidden) ? self.show() : self.hide();\n    };\n\n    this.remove = function () {\n      self.stop();\n      if (self.cursortimeout) clearTimeout(self.cursortimeout);\n      for (var n in self.delaylist) if (self.delaylist[n]) clearAnimationFrame(self.delaylist[n].h);\n      self.doZoomOut();\n      self.unbindAll();\n\n      if (cap.isie9) self.win[0].detachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n\n      if (self.observer !== false) self.observer.disconnect();\n      if (self.observerremover !== false) self.observerremover.disconnect();\n      if (self.observerbody !== false) self.observerbody.disconnect();\n\n      self.events = null;\n\n      if (self.cursor) {\n        self.cursor.remove();\n      }\n      if (self.cursorh) {\n        self.cursorh.remove();\n      }\n      if (self.rail) {\n        self.rail.remove();\n      }\n      if (self.railh) {\n        self.railh.remove();\n      }\n      if (self.zoom) {\n        self.zoom.remove();\n      }\n      for (var a = 0; a < self.saved.css.length; a++) {\n        var d = self.saved.css[a];\n        d[0].css(d[1], (d[2] === undefined) ? '' : d[2]);\n      }\n      self.saved = false;\n      self.me.data('__nicescroll', ''); //erase all traces\n\n      // memory leak fixed by GianlucaGuarini - thanks a lot!\n      // remove the current nicescroll from the $.nicescroll array & normalize array\n      var lst = $.nicescroll;\n      lst.each(function (i) {\n        if (!this) return;\n        if (this.id === self.id) {\n          delete lst[i];\n          for (var b = ++i; b < lst.length; b++ , i++) lst[i] = lst[b];\n          lst.length--;\n          if (lst.length) delete lst[lst.length];\n        }\n      });\n\n      for (var i in self) {\n        self[i] = null;\n        delete self[i];\n      }\n\n      self = null;\n\n    };\n\n    this.scrollstart = function (fn) {\n      this.onscrollstart = fn;\n      return self;\n    };\n    this.scrollend = function (fn) {\n      this.onscrollend = fn;\n      return self;\n    };\n    this.scrollcancel = function (fn) {\n      this.onscrollcancel = fn;\n      return self;\n    };\n\n    this.zoomin = function (fn) {\n      this.onzoomin = fn;\n      return self;\n    };\n    this.zoomout = function (fn) {\n      this.onzoomout = fn;\n      return self;\n    };\n\n    this.isScrollable = function (e) {\n      var dom = (e.target) ? e.target : e;\n      if (dom.nodeName == 'OPTION') return true;\n      while (dom && (dom.nodeType == 1) && (dom !== this.me[0]) && !(/^BODY|HTML/.test(dom.nodeName))) {\n        var dd = $(dom);\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\n        if (/scroll|auto/.test(ov)) return (dom.clientHeight != dom.scrollHeight);\n        dom = (dom.parentNode) ? dom.parentNode : false;\n      }\n      return false;\n    };\n\n    this.getViewport = function (me) {\n      var dom = (me && me.parentNode) ? me.parentNode : false;\n      while (dom && (dom.nodeType == 1) && !(/^BODY|HTML/.test(dom.nodeName))) {\n        var dd = $(dom);\n        if (/fixed|absolute/.test(dd.css(\"position\"))) return dd;\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\n        if ((/scroll|auto/.test(ov)) && (dom.clientHeight != dom.scrollHeight)) return dd;\n        if (dd.getNiceScroll().length > 0) return dd;\n        dom = (dom.parentNode) ? dom.parentNode : false;\n      }\n      return false;\n    };\n\n    this.triggerScrollStart = function (cx, cy, rx, ry, ms) {\n\n      if (self.onscrollstart) {\n        var info = {\n          type: \"scrollstart\",\n          current: {\n            x: cx,\n            y: cy\n          },\n          request: {\n            x: rx,\n            y: ry\n          },\n          end: {\n            x: self.newscrollx,\n            y: self.newscrolly\n          },\n          speed: ms\n        };\n        self.onscrollstart.call(self, info);\n      }\n\n    };\n\n    this.triggerScrollEnd = function () {\n      if (self.onscrollend) {\n\n        var px = self.getScrollLeft();\n        var py = self.getScrollTop();\n\n        var info = {\n          type: \"scrollend\",\n          current: {\n            x: px,\n            y: py\n          },\n          end: {\n            x: px,\n            y: py\n          }\n        };\n\n        self.onscrollend.call(self, info);\n\n      }\n\n    };\n\n    var scrolldiry = 0, scrolldirx = 0, scrolltmr = 0, scrollspd = 1;\n\n    function doScrollRelative(px, py, chkscroll, iswheel) {\n\n      if (!self.scrollrunning) {\n        self.newscrolly = self.getScrollTop();\n        self.newscrollx = self.getScrollLeft();\n        scrolltmr = now();\n      }\n\n      var gap = (now() - scrolltmr);\n      scrolltmr = now();\n\n      if (gap > 350) {\n        scrollspd = 1;\n      } else {\n        scrollspd += (2 - scrollspd) / 10;\n      }\n\n      px = px * scrollspd | 0;\n      py = py * scrollspd | 0;\n\n      if (px) {\n\n        if (iswheel) { // mouse-only\n          if (px < 0) {  // fix apple magic mouse swipe back/forward\n            if (self.getScrollLeft() >= self.page.maxw) return true;\n          } else {\n            if (self.getScrollLeft() <= 0) return true;\n          }\n        }\n\n        var dx = px > 0 ? 1 : -1;\n\n        if (scrolldirx !== dx) {\n          if (self.scrollmom) self.scrollmom.stop();\n          self.newscrollx = self.getScrollLeft();\n          scrolldirx = dx;\n        }\n\n        self.lastdeltax -= px;\n\n      }\n\n      if (py) {\n\n        var chk = (function () {\n          var top = self.getScrollTop();\n          if (py < 0) {\n            if (top >= self.page.maxh) return true;\n          } else {\n            if (top <= 0) return true;\n          }\n        })();\n\n        if (chk) {\n          if (opt.nativeparentscrolling && chkscroll && !self.ispage && !self.zoomactive) return true;\n          var ny = self.view.h >> 1;\n          if (self.newscrolly < -ny) { self.newscrolly = -ny; py = -1; }\n          else if (self.newscrolly > self.page.maxh + ny) { self.newscrolly = self.page.maxh + ny; py = 1; }\n          else py = 0;\n        }\n\n        var dy = py > 0 ? 1 : -1;\n\n        if (scrolldiry !== dy) {\n          if (self.scrollmom) self.scrollmom.stop();\n          self.newscrolly = self.getScrollTop();\n          scrolldiry = dy;\n        }\n\n        self.lastdeltay -= py;\n\n      }\n\n      if (py || px) {\n        self.synched(\"relativexy\", function () {\n\n          var dty = self.lastdeltay + self.newscrolly;\n          self.lastdeltay = 0;\n\n          var dtx = self.lastdeltax + self.newscrollx;\n          self.lastdeltax = 0;\n\n          if (!self.rail.drag) self.doScrollPos(dtx, dty);\n\n        });\n      }\n\n    }\n\n    var hasparentscrollingphase = false;\n\n    function execScrollWheel(e, hr, chkscroll) {\n      var px, py;\n\n      if (!chkscroll && hasparentscrollingphase) return true;\n\n      if (e.deltaMode === 0) { // PIXEL\n        px = -(e.deltaX * (opt.mousescrollstep / (18 * 3))) | 0;\n        py = -(e.deltaY * (opt.mousescrollstep / (18 * 3))) | 0;\n      } else if (e.deltaMode === 1) { // LINE\n        px = -(e.deltaX * opt.mousescrollstep * 50 / 80) | 0;\n        py = -(e.deltaY * opt.mousescrollstep * 50 / 80) | 0;\n      }\n\n      if (hr && opt.oneaxismousemode && (px === 0) && py) { // classic vertical-only mousewheel + browser with x/y support \n        px = py;\n        py = 0;\n\n        if (chkscroll) {\n          var hrend = (px < 0) ? (self.getScrollLeft() >= self.page.maxw) : (self.getScrollLeft() <= 0);\n          if (hrend) {  // preserve vertical scrolling\n            py = px;\n            px = 0;\n          }\n        }\n\n      }\n\n      // invert horizontal direction for rtl mode\n      if (self.isrtlmode) px = -px;\n\n      var chk = doScrollRelative(px, py, chkscroll, true);\n\n      if (chk) {\n        if (chkscroll) hasparentscrollingphase = true;\n      } else {\n        hasparentscrollingphase = false;\n        e.stopImmediatePropagation();\n        return e.preventDefault();\n      }\n\n    }\n\n    this.onmousewheel = function (e) {\n      if (self.wheelprevented||self.locked) return false;\n      if (self.railslocked) {\n        self.debounced(\"checkunlock\", self.resize, 250);\n        return false;\n      }\n      if (self.rail.drag) return self.cancelEvent(e);\n\n      if (opt.oneaxismousemode === \"auto\" && e.deltaX !== 0) opt.oneaxismousemode = false; // check two-axis mouse support (not very elegant)\n\n      if (opt.oneaxismousemode && e.deltaX === 0) {\n        if (!self.rail.scrollable) {\n          if (self.railh && self.railh.scrollable) {\n            return self.onmousewheelhr(e);\n          } else {\n            return true;\n          }\n        }\n      }\n\n      var nw = now();\n      var chk = false;\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\n        self.nativescrollingarea = self.isScrollable(e);\n        chk = true;\n      }\n      self.checkarea = nw;\n      if (self.nativescrollingarea) return true; // this isn't my business\n      var ret = execScrollWheel(e, false, chk);\n      if (ret) self.checkarea = 0;\n      return ret;\n    };\n\n    this.onmousewheelhr = function (e) {\n      if (self.wheelprevented) return;\n      if (self.railslocked || !self.railh.scrollable) return true;\n      if (self.rail.drag) return self.cancelEvent(e);\n\n      var nw = now();\n      var chk = false;\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\n        self.nativescrollingarea = self.isScrollable(e);\n        chk = true;\n      }\n      self.checkarea = nw;\n      if (self.nativescrollingarea) return true; // this is not my business\n      if (self.railslocked) return self.cancelEvent(e);\n\n      return execScrollWheel(e, true, chk);\n    };\n\n    this.stop = function () {\n      self.cancelScroll();\n      if (self.scrollmon) self.scrollmon.stop();\n      self.cursorfreezed = false;\n      self.scroll.y = Math.round(self.getScrollTop() * (1 / self.scrollratio.y));\n      self.noticeCursor();\n      return self;\n    };\n\n    this.getTransitionSpeed = function (dif) {\n\n      return 80 + (dif / 72) * opt.scrollspeed |0;\n\n    };\n\n    if (!opt.smoothscroll) {\n      this.doScrollLeft = function (x, spd) { //direct\n        var y = self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n      this.doScrollTop = function (y, spd) { //direct\n        var x = self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n      this.doScrollPos = function (x, y, spd) { //direct\n        var nx = (x > self.page.maxw) ? self.page.maxw : x;\n        if (nx < 0) nx = 0;\n        var ny = (y > self.page.maxh) ? self.page.maxh : y;\n        if (ny < 0) ny = 0;\n        self.synched('scroll', function () {\n          self.setScrollTop(ny);\n          self.setScrollLeft(nx);\n        });\n      };\n      this.cancelScroll = function () { }; // direct\n\n    } else if (self.ishwscroll && cap.hastransition && opt.usetransition && !!opt.smoothscroll) {\n\n      var lasttransitionstyle = '';\n\n      this.resetTransition = function () {\n        lasttransitionstyle = '';\n        self.doc.css(cap.prefixstyle + 'transition-duration', '0ms');\n      };\n\n      this.prepareTransition = function (dif, istime) {\n        var ex = (istime) ? dif : self.getTransitionSpeed(dif);\n        var trans = ex + 'ms';\n        if (lasttransitionstyle !== trans) {\n          lasttransitionstyle = trans;\n          self.doc.css(cap.prefixstyle + 'transition-duration', trans);\n        }\n        return ex;\n      };\n\n      this.doScrollLeft = function (x, spd) { //trans\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollTop = function (y, spd) { //trans\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.cursorupdate = {\n        running: false,\n        start: function () {\n          var m = this;\n\n          if (m.running) return;\n          m.running = true;\n\n          var loop = function () {\n            if (m.running) setAnimationFrame(loop);\n            self.showCursor(self.getScrollTop(), self.getScrollLeft());\n            self.notifyScrollEvent(self.win[0]);\n          };\n\n          setAnimationFrame(loop);\n        },\n        stop: function () {\n          this.running = false;\n        }\n      };\n\n      this.doScrollPos = function (x, y, spd) { //trans\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection      \n\n        if (!opt.bouncescroll) {\n          if (y < 0) y = 0;\n          else if (y > self.page.maxh) y = self.page.maxh;\n          if (x < 0) x = 0;\n          else if (x > self.page.maxw) x = self.page.maxw;\n        } else {\n          if (y < 0) y = y / 2 | 0;\n          else if (y > self.page.maxh) y = self.page.maxh + (y - self.page.maxh) / 2 | 0;\n          if (x < 0) x = x / 2 | 0;\n          else if (x > self.page.maxw) x = self.page.maxw + (x - self.page.maxw) / 2 | 0;\n        }\n\n        if (self.scrollrunning && x == self.newscrollx && y == self.newscrolly) return false;\n\n        self.newscrolly = y;\n        self.newscrollx = x;\n\n        var top = self.getScrollTop();\n        var lft = self.getScrollLeft();\n\n        var dst = {};\n        dst.x = x - lft;\n        dst.y = y - top;\n\n        var dd = Math.sqrt((dst.x * dst.x) + (dst.y * dst.y)) | 0;\n\n        var ms = self.prepareTransition(dd);\n\n        if (!self.scrollrunning) {\n          self.scrollrunning = true;\n          self.triggerScrollStart(lft, top, x, y, ms);\n          self.cursorupdate.start();\n        }\n\n        self.scrollendtrapped = true;\n\n        if (!cap.transitionend) {\n          if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);\n          self.scrollendtrapped = setTimeout(self.onScrollTransitionEnd, ms); // simulate transitionend event\n        }\n\n        self.setScrollTop(self.newscrolly);\n        self.setScrollLeft(self.newscrollx);\n\n      };\n\n      this.cancelScroll = function () {\n        if (!self.scrollendtrapped) return true;\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n        self.scrollrunning = false;\n        if (!cap.transitionend) clearTimeout(cap.transitionend);\n        self.scrollendtrapped = false;\n        self.resetTransition();\n        self.setScrollTop(py); // fire event onscroll\n        if (self.railh) self.setScrollLeft(px);\n        if (self.timerscroll && self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n        self.timerscroll = false;\n\n        self.cursorfreezed = false;\n\n        self.cursorupdate.stop();\n        self.showCursor(py, px);\n        return self;\n      };\n\n      this.onScrollTransitionEnd = function () {\n\n        if (!self.scrollendtrapped) return;\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (py < 0) py = 0;\n        else if (py > self.page.maxh) py = self.page.maxh;\n        if (px < 0) px = 0;\n        else if (px > self.page.maxw) px = self.page.maxw;\n        if ((py != self.newscrolly) || (px != self.newscrollx)) return self.doScrollPos(px, py, opt.snapbackspeed);\n\n        if (self.scrollrunning) self.triggerScrollEnd();\n        self.scrollrunning = false;\n\n        self.scrollendtrapped = false;\n        self.resetTransition();\n        self.timerscroll = false;\n        self.setScrollTop(py); // fire event onscroll        \n        if (self.railh) self.setScrollLeft(px); // fire event onscroll left\n\n        self.cursorupdate.stop();\n        self.noticeCursor(false, py, px);\n\n        self.cursorfreezed = false;\n\n      };\n\n    } else {\n\n      this.doScrollLeft = function (x, spd) { //no-trans\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollTop = function (y, spd) { //no-trans\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollPos = function (x, y, spd) { //no-trans\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection\n\n        var clipped = false;\n\n        if (!self.bouncescroll || !self.rail.visibility) {\n          if (y < 0) {\n            y = 0;\n            clipped = true;\n          } else if (y > self.page.maxh) {\n            y = self.page.maxh;\n            clipped = true;\n          }\n        }\n        if (!self.bouncescroll || !self.railh.visibility) {\n          if (x < 0) {\n            x = 0;\n            clipped = true;\n          } else if (x > self.page.maxw) {\n            x = self.page.maxw;\n            clipped = true;\n          }\n        }\n\n        if (self.scrollrunning && (self.newscrolly === y) && (self.newscrollx === x)) return true;\n\n        self.newscrolly = y;\n        self.newscrollx = x;\n\n        self.dst = {};\n        self.dst.x = x - px;\n        self.dst.y = y - py;\n        self.dst.px = px;\n        self.dst.py = py;\n\n        var dd = Math.sqrt((self.dst.x * self.dst.x) + (self.dst.y * self.dst.y)) | 0;\n        var ms = self.getTransitionSpeed(dd);\n\n        self.bzscroll = {};\n\n        var p3 = (clipped) ? 1 : 0.58;\n        self.bzscroll.x = new BezierClass(px, self.newscrollx, ms, 0, 0, p3, 1);\n        self.bzscroll.y = new BezierClass(py, self.newscrolly, ms, 0, 0, p3, 1);\n\n        var loopid = now();\n\n        var loop = function () {\n\n          if (!self.scrollrunning) return;\n          var x = self.bzscroll.y.getPos();\n\n          self.setScrollLeft(self.bzscroll.x.getNow());\n          self.setScrollTop(self.bzscroll.y.getNow());\n\n          if (x <= 1) {\n            self.timer = setAnimationFrame(loop);\n          } else {\n            self.scrollrunning = false;\n            self.timer = 0;\n            self.triggerScrollEnd();\n          }\n\n        };\n\n        if (!self.scrollrunning) {\n          self.triggerScrollStart(px, py, x, y, ms);\n          self.scrollrunning = true;\n          self.timer = setAnimationFrame(loop);\n        }\n\n      };\n\n      this.cancelScroll = function () {\n        if (self.timer) clearAnimationFrame(self.timer);\n        self.timer = 0;\n        self.bzscroll = false;\n        self.scrollrunning = false;\n        return self;\n      };\n\n    }\n\n    this.doScrollBy = function (stp, relative) {\n      doScrollRelative(0, stp);\n    };\n\n    this.doScrollLeftBy = function (stp, relative) {\n      doScrollRelative(stp, 0);\n    };\n\n    this.doScrollTo = function (pos, relative) {\n      var ny = (relative) ? Math.round(pos * self.scrollratio.y) : pos;\n      if (ny < 0) ny = 0;\n      else if (ny > self.page.maxh) ny = self.page.maxh;\n      self.cursorfreezed = false;\n      self.doScrollTop(pos);\n    };\n\n    this.checkContentSize = function () {\n      var pg = self.getContentSize();\n      if ((pg.h != self.page.h) || (pg.w != self.page.w)) self.resize(false, pg);\n    };\n\n    self.onscroll = function (e) {\n      if (self.rail.drag) return;\n      if (!self.cursorfreezed) {\n        self.synched('scroll', function () {\n          self.scroll.y = Math.round(self.getScrollTop() / self.scrollratio.y);\n          if (self.railh) self.scroll.x = Math.round(self.getScrollLeft() / self.scrollratio.x);\n          self.noticeCursor();\n        });\n      }\n    };\n    self.bind(self.docscroll, \"scroll\", self.onscroll);\n\n    this.doZoomIn = function (e) {\n      if (self.zoomactive) return;\n      self.zoomactive = true;\n\n      self.zoomrestore = {\n        style: {}\n      };\n      var lst = ['position', 'top', 'left', 'zIndex', 'backgroundColor', 'marginTop', 'marginBottom', 'marginLeft', 'marginRight'];\n      var win = self.win[0].style;\n      for (var a in lst) {\n        var pp = lst[a];\n        self.zoomrestore.style[pp] = (win[pp] !== undefined) ? win[pp] : '';\n      }\n\n      self.zoomrestore.style.width = self.win.css('width');\n      self.zoomrestore.style.height = self.win.css('height');\n\n      self.zoomrestore.padding = {\n        w: self.win.outerWidth() - self.win.width(),\n        h: self.win.outerHeight() - self.win.height()\n      };\n\n      if (cap.isios4) {\n        self.zoomrestore.scrollTop = $window.scrollTop();\n        $window.scrollTop(0);\n      }\n\n      self.win.css({\n        position: (cap.isios4) ? \"absolute\" : \"fixed\",\n        top: 0,\n        left: 0,\n        zIndex: globalmaxzindex + 100,\n        margin: 0\n      });\n      var bkg = self.win.css(\"backgroundColor\");\n      if (\"\" === bkg || /transparent|rgba\\(0, 0, 0, 0\\)|rgba\\(0,0,0,0\\)/.test(bkg)) self.win.css(\"backgroundColor\", \"#fff\");\n      self.rail.css({\n        zIndex: globalmaxzindex + 101\n      });\n      self.zoom.css({\n        zIndex: globalmaxzindex + 102\n      });\n      self.zoom.css('backgroundPosition', '0 -18px');\n      self.resizeZoom();\n\n      if (self.onzoomin) self.onzoomin.call(self);\n\n      return self.cancelEvent(e);\n    };\n\n    this.doZoomOut = function (e) {\n      if (!self.zoomactive) return;\n      self.zoomactive = false;\n\n      self.win.css(\"margin\", \"\");\n      self.win.css(self.zoomrestore.style);\n\n      if (cap.isios4) {\n        $window.scrollTop(self.zoomrestore.scrollTop);\n      }\n\n      self.rail.css({\n        \"z-index\": self.zindex\n      });\n      self.zoom.css({\n        \"z-index\": self.zindex\n      });\n      self.zoomrestore = false;\n      self.zoom.css('backgroundPosition', '0 0');\n      self.onResize();\n\n      if (self.onzoomout) self.onzoomout.call(self);\n\n      return self.cancelEvent(e);\n    };\n\n    this.doZoom = function (e) {\n      return (self.zoomactive) ? self.doZoomOut(e) : self.doZoomIn(e);\n    };\n\n    this.resizeZoom = function () {\n      if (!self.zoomactive) return;\n\n      var py = self.getScrollTop(); //preserve scrolling position\n      self.win.css({\n        width: $window.width() - self.zoomrestore.padding.w + \"px\",\n        height: $window.height() - self.zoomrestore.padding.h + \"px\"\n      });\n      self.onResize();\n\n      self.setScrollTop(Math.min(self.page.maxh, py));\n    };\n\n    this.init();\n\n    $.nicescroll.push(this);\n\n  };\n\n  // Inspired by the work of Kin Blas\n  // http://webpro.host.adobe.com/people/jblas/momentum/includes/jquery.momentum.0.7.js  \n  var ScrollMomentumClass2D = function (nc) {\n    var self = this;\n    this.nc = nc;\n\n    this.lastx = 0;\n    this.lasty = 0;\n    this.speedx = 0;\n    this.speedy = 0;\n    this.lasttime = 0;\n    this.steptime = 0;\n    this.snapx = false;\n    this.snapy = false;\n    this.demulx = 0;\n    this.demuly = 0;\n\n    this.lastscrollx = -1;\n    this.lastscrolly = -1;\n\n    this.chkx = 0;\n    this.chky = 0;\n\n    this.timer = 0;\n\n    this.reset = function (px, py) {\n      self.stop();\n      self.steptime = 0;\n      self.lasttime = now();\n      self.speedx = 0;\n      self.speedy = 0;\n      self.lastx = px;\n      self.lasty = py;\n      self.lastscrollx = -1;\n      self.lastscrolly = -1;\n    };\n\n    this.update = function (px, py) {\n      var tm = now();\n      self.steptime = tm - self.lasttime;\n      self.lasttime = tm;\n      var dy = py - self.lasty;\n      var dx = px - self.lastx;\n      var sy = self.nc.getScrollTop();\n      var sx = self.nc.getScrollLeft();\n      var newy = sy + dy;\n      var newx = sx + dx;\n      self.snapx = (newx < 0) || (newx > self.nc.page.maxw);\n      self.snapy = (newy < 0) || (newy > self.nc.page.maxh);\n      self.speedx = dx;\n      self.speedy = dy;\n      self.lastx = px;\n      self.lasty = py;\n    };\n\n    this.stop = function () {\n      self.nc.unsynched(\"domomentum2d\");\n      if (self.timer) clearTimeout(self.timer);\n      self.timer = 0;\n      self.lastscrollx = -1;\n      self.lastscrolly = -1;\n    };\n\n    this.doSnapy = function (nx, ny) {\n      var snap = false;\n\n      if (ny < 0) {\n        ny = 0;\n        snap = true;\n      } else if (ny > self.nc.page.maxh) {\n        ny = self.nc.page.maxh;\n        snap = true;\n      }\n\n      if (nx < 0) {\n        nx = 0;\n        snap = true;\n      } else if (nx > self.nc.page.maxw) {\n        nx = self.nc.page.maxw;\n        snap = true;\n      }\n\n      (snap) ? self.nc.doScrollPos(nx, ny, self.nc.opt.snapbackspeed) : self.nc.triggerScrollEnd();\n    };\n\n    this.doMomentum = function (gp) {\n      var t = now();\n      var l = (gp) ? t + gp : self.lasttime;\n\n      var sl = self.nc.getScrollLeft();\n      var st = self.nc.getScrollTop();\n\n      var pageh = self.nc.page.maxh;\n      var pagew = self.nc.page.maxw;\n\n      self.speedx = (pagew > 0) ? Math.min(60, self.speedx) : 0;\n      self.speedy = (pageh > 0) ? Math.min(60, self.speedy) : 0;\n\n      var chk = l && (t - l) <= 60;\n\n      if ((st < 0) || (st > pageh) || (sl < 0) || (sl > pagew)) chk = false;\n\n      var sy = (self.speedy && chk) ? self.speedy : false;\n      var sx = (self.speedx && chk) ? self.speedx : false;\n\n      if (sy || sx) {\n        var tm = Math.max(16, self.steptime); //timeout granularity\n\n        if (tm > 50) { // do smooth\n          var xm = tm / 50;\n          self.speedx *= xm;\n          self.speedy *= xm;\n          tm = 50;\n        }\n\n        self.demulxy = 0;\n\n        self.lastscrollx = self.nc.getScrollLeft();\n        self.chkx = self.lastscrollx;\n        self.lastscrolly = self.nc.getScrollTop();\n        self.chky = self.lastscrolly;\n\n        var nx = self.lastscrollx;\n        var ny = self.lastscrolly;\n\n        var onscroll = function () {\n          var df = ((now() - t) > 600) ? 0.04 : 0.02;\n\n          if (self.speedx) {\n            nx = Math.floor(self.lastscrollx - (self.speedx * (1 - self.demulxy)));\n            self.lastscrollx = nx;\n            if ((nx < 0) || (nx > pagew)) df = 0.10;\n          }\n\n          if (self.speedy) {\n            ny = Math.floor(self.lastscrolly - (self.speedy * (1 - self.demulxy)));\n            self.lastscrolly = ny;\n            if ((ny < 0) || (ny > pageh)) df = 0.10;\n          }\n\n          self.demulxy = Math.min(1, self.demulxy + df);\n\n          self.nc.synched(\"domomentum2d\", function () {\n\n            if (self.speedx) {\n              var scx = self.nc.getScrollLeft();\n              //              if (scx != self.chkx) self.stop();\n              self.chkx = nx;\n              self.nc.setScrollLeft(nx);\n            }\n\n            if (self.speedy) {\n              var scy = self.nc.getScrollTop();\n              //              if (scy != self.chky) self.stop();\n              self.chky = ny;\n              self.nc.setScrollTop(ny);\n            }\n\n            if (!self.timer) {\n              self.nc.hideCursor();\n              self.doSnapy(nx, ny);\n            }\n\n          });\n\n          if (self.demulxy < 1) {\n            self.timer = setTimeout(onscroll, tm);\n          } else {\n            self.stop();\n            self.nc.hideCursor();\n            self.doSnapy(nx, ny);\n          }\n        };\n\n        onscroll();\n\n      } else {\n        self.doSnapy(self.nc.getScrollLeft(), self.nc.getScrollTop());\n      }\n\n    };\n\n  };\n\n\n  // override jQuery scrollTop\n  var _scrollTop = jQuery.fn.scrollTop; // preserve original function\n\n  jQuery.cssHooks.pageYOffset = {\n    get: function (elem, computed, extra) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(elem);\n    },\n    set: function (elem, value) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call(elem, value);\n      return this;\n    }\n  };\n\n  jQuery.fn.scrollTop = function (value) {\n    if (value === undefined) {\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(this);\n    } else {\n      return this.each(function () {\n        var nice = $.data(this, '__nicescroll') || false;\n        (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call($(this), value);\n      });\n    }\n  };\n\n  // override jQuery scrollLeft\n  var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function\n\n  $.cssHooks.pageXOffset = {\n    get: function (elem, computed, extra) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(elem);\n    },\n    set: function (elem, value) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call(elem, value);\n      return this;\n    }\n  };\n\n  jQuery.fn.scrollLeft = function (value) {\n    if (value === undefined) {\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(this);\n    } else {\n      return this.each(function () {\n        var nice = $.data(this, '__nicescroll') || false;\n        (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call($(this), value);\n      });\n    }\n  };\n\n  var NiceScrollArray = function (doms) {\n    var self = this;\n    this.length = 0;\n    this.name = \"nicescrollarray\";\n\n    this.each = function (fn) {\n      $.each(self, fn);\n      return self;\n    };\n\n    this.push = function (nice) {\n      self[self.length] = nice;\n      self.length++;\n    };\n\n    this.eq = function (idx) {\n      return self[idx];\n    };\n\n    if (doms) {\n      for (var a = 0; a < doms.length; a++) {\n        var nice = $.data(doms[a], '__nicescroll') || false;\n        if (nice) {\n          this[this.length] = nice;\n          this.length++;\n        }\n      }\n    }\n\n    return this;\n  };\n\n  function mplex(el, lst, fn) {\n    for (var a = 0, l = lst.length; a < l; a++) fn(el, lst[a]);\n  }\n  mplex(\n    NiceScrollArray.prototype, ['show', 'hide', 'toggle', 'onResize', 'resize', 'remove', 'stop', 'doScrollPos'],\n    function (e, n) {\n      e[n] = function () {\n        var args = arguments;\n        return this.each(function () {\n          this[n].apply(this, args);\n        });\n      };\n    }\n  );\n\n  jQuery.fn.getNiceScroll = function (index) {\n    if (index === undefined) {\n      return new NiceScrollArray(this);\n    } else {\n      return this[index] && $.data(this[index], '__nicescroll') || false;\n    }\n  };\n\n  var pseudos = jQuery.expr.pseudos || jQuery.expr[':'];  // jQuery 3 migration\n  pseudos.nicescroll = function (a) {\n    return $.data(a, '__nicescroll') !== undefined;\n  };\n\n  $.fn.niceScroll = function (wrapper, _opt) {\n    if (_opt === undefined && typeof wrapper == \"object\" && !(\"jquery\" in wrapper)) {\n      _opt = wrapper;\n      wrapper = false;\n    }\n\n    var ret = new NiceScrollArray();\n\n    this.each(function () {\n      var $this = $(this);\n\n      var opt = $.extend({}, _opt); // cloning\n\n      if (wrapper || false) {\n        var wrp = $(wrapper);\n        opt.doc = (wrp.length > 1) ? $(wrapper, $this) : wrp;\n        opt.win = $this;\n      }\n      var docundef = !(\"doc\" in opt);\n      if (!docundef && !(\"win\" in opt)) opt.win = $this;\n\n      var nice = $this.data('__nicescroll') || false;\n      if (!nice) {\n        opt.doc = opt.doc || $this;\n        nice = new NiceScrollClass(opt, $this);\n        $this.data('__nicescroll', nice);\n      }\n      ret.push(nice);\n    });\n\n    return (ret.length === 1) ? ret[0] : ret;\n  };\n\n  _win.NiceScroll = {\n    getjQuery: function () {\n      return jQuery;\n    }\n  };\n\n  if (!$.nicescroll) {\n    $.nicescroll = new NiceScrollArray();\n    $.nicescroll.options = _globaloptions;\n  }\n\n}));"]}